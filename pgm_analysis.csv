statement,file_path,INCLUDE,INCLUDE_PATH,DEPENDENCY_EXISTS,LIBNAME,MACRO_DEF,MACRO_CALL,tables_sourcejoin,tables_table,source,input_table,output_table,WRITE_BACK,MISSING_LIBNAME
%let path1=/folders/myfolders/test1;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
%let path2=/folders/myfolders/test2;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"%include ""&path2/setup.sas"";",SAS Files\adam_adae.sas,yes,&path2/setup.sas,Yes,,,,,,,,,No,
%let metadatafile=&path1/adam_metadata.xlsx;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"%include ""&path1/make_empty_dataset.sas"";",SAS Files\adam_adae.sas,yes,&path1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=&metadatafile,dataset=adae)",SAS Files\adam_adae.sas,,,,,,make_empty_dataset,,,,,,No,
proc sort,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
data = adam.adsl,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
(keep = usubjid siteid country age agegr1 agegr1n sex race trtsdt trt01a trt01an saffl),SAS Files\adam_adae.sas,,,,,,,,,,,,No,
out = adsl;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"%include ""&path2/dtc2dt.sas"";",SAS Files\adam_adae.sas,yes,&path2/dtc2dt.sas,Yes,,,,,,,,,No,
data adae;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
merge sdtm.ae (in = inae) adsl (in = inadsl);,SAS Files\adam_adae.sas,,,,,,,"sdtm.ae, (in, =, inae), adsl, (in, =, inadsl)",,,,,No,
by usubjid ;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
if inae and not inadsl then,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
put 'prob' 'lem: subject missing from adsl?-- ' usubjid= inae= inadsl= ;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
rename trt01a    = trta,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
trt01an   = trtan,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
if inadsl and inae;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"%dtc2dt(aestdtc, prefix=ast, refdt=trtsdt);",SAS Files\adam_adae.sas,,,,,,dtc2dt,,,,,,No,
"%dtc2dt(aeendtc, prefix=aen, refdt=trtsdt);",SAS Files\adam_adae.sas,,,,,,dtc2dt,,,,,,No,
"if index(aedecod, 'pain')>0 or aedecod='headache' then",SAS Files\adam_adae.sas,,,,,,,,,,,,No,
cq01nam = 'pain event';,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
else,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
cq01nam = '          ';,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"aereln = input(put(aerel, $aereln.), best.);",SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"aesevn = input(put(aesev, $aesevn.), best.);",SAS Files\adam_adae.sas,,,,,,,,,,,,No,
relgr1n = (aereln); ** group related events (aereln>0);,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"relgr1  = put(relgr1n, relgr1n.);",SAS Files\adam_adae.sas,,,,,,,,,,,,No,
if astdt>=trtsdt then,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
trtemfl = 'y';,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
format astdt aendt yymmdd10.;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
data adae;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
retain &adaekeepstring;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
set empty_adae adae;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
"%include ""&path1/make_sort_order.sas"";",SAS Files\adam_adae.sas,yes,&path1/make_sort_order.sas,Yes,,,,,,,,,No,
"%make_sort_order(metadatafile=&metadatafile, dataset=adae)",SAS Files\adam_adae.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
data=adae(keep = &adaekeepstring),SAS Files\adam_adae.sas,,,,,,,,,,,,No,
out=adam.adae;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
by &adaesortstring;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adae.sas,,,,,,,,,,,,No,
%let path1=/folders/myfolders/test1;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
%let path2=/folders/myfolders/test2;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"%include ""&path2/setup.sas"";",SAS Files\adam_adef.sas,yes,&path2/setup.sas,Yes,,,,,,,,,No,
%let metadatafile=&path1/adam_metadata.xlsx;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"%include ""&path1/make_empty_dataset.sas"";",SAS Files\adam_adef.sas,yes,&path1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=&metadatafile,dataset=adef)",SAS Files\adam_adef.sas,,,,,,make_empty_dataset,,,,,,No,
"%include ""&path2/cfb.sas"";",SAS Files\adam_adef.sas,yes,&path2/cfb.sas,Yes,,,,,,,,,No,
"%cfb(indata=sdtm.xp, outdata=adef, dayvar=xpdy, avalvar=xpstresn);",SAS Files\adam_adef.sas,,,,,,cfb,,,,,,No,
proc sort,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
data = adam.adsl,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
(keep = usubjid siteid country age agegr1 agegr1n sex race randdt trt01p trt01pn ittfl),SAS Files\adam_adef.sas,,,,,,,,,,,,No,
out = adsl;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"%include ""&path2/dtc2dt.sas"";",SAS Files\adam_adef.sas,yes,&path2/dtc2dt.sas,Yes,,,,,,,,,No,
data adef;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
merge adef (in = inadef) adsl (in = inadsl);,SAS Files\adam_adef.sas,,,,,,,"adef, (in, =, inadef), adsl, (in, =, inadsl)",,,,,No,
by usubjid ;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
if not(inadsl and inadef) then,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
put 'prob' 'lem: missing subject?-- ' usubjid= inadef= inadsl= ;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
rename trt01p    = trtp,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
trt01pn   = trtpn,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
xptest    = param,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
xptestcd  = paramcd,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
visit     = avisit,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
xporres   = avalc,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
if inadsl and inadef;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"avisitn = input(put(visitnum, avisitn.), best.);",SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"%dtc2dt(xpdtc, refdt=randdt);",SAS Files\adam_adef.sas,,,,,,dtc2dt,,,,,,No,
"retain crit1 ""pain improvement from baseline of at least 2 points"";",SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"respfl = put((.z <= chg <= -2), _0n1y.);",SAS Files\adam_adef.sas,,,,,,,,,,,,No,
if respfl='y' then,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
crit1fl = 'y';,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
else,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
crit1fl = 'n';,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
data adef;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
retain &adefkeepstring;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
set empty_adef adef;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
"%include ""&path1/make_sort_order.sas"";",SAS Files\adam_adef.sas,yes,&path1/make_sort_order.sas,Yes,,,,,,,,,No,
"%make_sort_order(metadatafile=&metadatafile,dataset=adef)",SAS Files\adam_adef.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
data=adef(keep = &adefkeepstring),SAS Files\adam_adef.sas,,,,,,,,,,,,No,
out=adam.adef;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
by &adefsortstring;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adef.sas,,,,,,,,,,,,No,
%let path1=/folders/myfolders/test1;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
%let path2=/folders/myfolders/test2;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"%include ""&path2/setup.sas"";",SAS Files\adam_adsl.sas,yes,&path2/setup.sas,Yes,,,,,,,,,No,
%let metadatafile=&path1/adam_metadata.xlsx;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"%include ""&path1/make_empty_dataset.sas"";",SAS Files\adam_adsl.sas,yes,&path1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=&metadatafile, dataset=adsl)",SAS Files\adam_adsl.sas,,,,,,make_empty_dataset,,,,,,No,
"%include ""&path2/mergsupp.sas"";",SAS Files\adam_adsl.sas,yes,&path2/mergsupp.sas,Yes,,,,,,,,,No,
"%mergsupp(sourcelib=sdtm, domains=dm);",SAS Files\adam_adsl.sas,,,,,,mergsupp,,,,,,No,
"%include ""&path2/cfb.sas"";",SAS Files\adam_adsl.sas,yes,&path2/cfb.sas,Yes,,,,,,,,,No,
"%cfb(indata=sdtm.xp, outdata=responders, dayvar=xpdy, avalvar= xpstresn,",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
keepvars=usubjid visitnum chg);,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"%include ""&path2/dtc2dt.sas"";",SAS Files\adam_adsl.sas,yes,&path2/dtc2dt.sas,Yes,,,,,,,,,No,
data adsl;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
merge empty_adsl,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
dm         (in = indm),SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
responders (in = inresp where=(visitnum=2)),SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"%dtc2dt(rfstdtc, prefix=trts );",SAS Files\adam_adsl.sas,,,,,,dtc2dt,,,,,,No,
"%dtc2dt(brthdtc, prefix=brth);",SAS Files\adam_adsl.sas,,,,,,dtc2dt,,,,,,No,
"%dtc2dt(randdtc, prefix=rand);",SAS Files\adam_adsl.sas,,,,,,dtc2dt,,,,,,No,
"%dtc2dt(rfendtc, prefix=trte);",SAS Files\adam_adsl.sas,,,,,,dtc2dt,,,,,,No,
"ittfl = put(randdt, popfl.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"saffl = put(trtsdt, popfl.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
trt01p = arm;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
trt01a = trt01p;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"trt01pn = input(put(trt01p, $trt01pn.), best.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
trt01an = trt01pn;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"agegr1n = input(put(age, agegr1n.), best.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"agegr1  = put(agegr1n, agegr1_.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"respfl = put((.z <= chg <= -2), _0n1y.);",SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
"%include ""&path1/make_sort_order.sas"";",SAS Files\adam_adsl.sas,yes,&path1/make_sort_order.sas,Yes,,,,,,,,,No,
"%make_sort_order(metadatafile=&metadatafile, dataset=adsl);",SAS Files\adam_adsl.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
data=adsl,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
(keep = &adslkeepstring),SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
out=adam.adsl;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
by &adslsortstring;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adsl.sas,,,,,,,,,,,,No,
%let path1=/folders/myfolders/test1;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
%let path2=/folders/myfolders/test2;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"%include ""&path2/setup.sas"";",SAS Files\adam_adtte.sas,yes,&path2/setup.sas,Yes,,,,,,,,,No,
%let metadatafile=&path1/adam_metadata.xlsx;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"%include ""&path1/make_empty_dataset.sas"";",SAS Files\adam_adtte.sas,yes,&path1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=&metadatafile, dataset=adtte)",SAS Files\adam_adtte.sas,,,,,,make_empty_dataset,,,,,,No,
proc sort,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data = adam.adsl,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
(keep = studyid usubjid siteid country age agegr1 agegr1n sex race randdt trt01p trt01pn,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
ittfl trtedt),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
out = adtte;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
proc sort,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data = adam.adef,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
(keep = usubjid paramcd chg adt visitnum xpseq),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
out = adef;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
where paramcd='xppain' and visitnum>0 and (chg<0 or chg>0);,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid adt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data adef;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
set adef;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid adt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
drop paramcd visitnum;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
if first.usubjid;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
proc sort,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data = adam.adae,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
(keep = usubjid cq01nam astdt trtemfl aeseq),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
out = adae;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
where cq01nam ne '' and trtemfl='y';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid astdt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data adae;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
set adae;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid astdt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
if first.usubjid;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
proc sort,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data = sdtm.ex,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
(keep = usubjid exseq),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
out = lstex,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
nodupkey;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid exseq;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data lstex;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
set lstex;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid exseq;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
if last.usubjid;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data adtte;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
merge adtte (in = inadtte rename=(randdt=startdt)),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adef  (in = inadef),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adae  (in = inadae),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
lstex (in = inlstex),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by usubjid ;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"retain param ""time to first pain relief"" paramcd ""ttpnrelf"";",SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
rename trt01p    = trtp,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
trt01pn   = trtpn,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
length srcvar $10. srcdom $4.;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
if (.<chg<0) and (adt<astdt or not inadae) then,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
do;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
cnsr = 0;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adt  = adt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"evntdesc = put(cnsr, evntdesc.) ;",SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcdom = 'adef';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcvar = 'xpdy';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcseq = xpseq;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
end;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
else if chg>0 and (adt<astdt or not inadae) then,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
do;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
cnsr = 1;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adt  = adt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"evntdesc = put(cnsr, evntdesc.) ;",SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcdom = 'xp';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcvar = 'xpdy';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcseq = xpseq;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
end;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
else if (.<astdt<adt) then,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
do;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
cnsr = 2;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adt  = astdt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"evntdesc = put(cnsr, evntdesc.) ;",SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcdom = 'adae';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcvar = 'astdy';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcseq = aeseq;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
end;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
else,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
do;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
cnsr = 3;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
adt  = trtedt;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"evntdesc = put(cnsr, evntdesc.) ;",SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcdom = 'adsl';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcvar = 'trtedt';,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
srcseq = .;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
end;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
aval = adt - startdt + 1;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
format startdt adt yymmdd10.;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data adtte;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
retain &adttekeepstring;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
set empty_adtte adtte;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
"%include ""&path1/make_sort_order.sas"";",SAS Files\adam_adtte.sas,yes,&path1/make_sort_order.sas,Yes,,,,,,,,,No,
"%make_sort_order(metadatafile=&metadatafile, dataset=adtte)",SAS Files\adam_adtte.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
data=adtte(keep = &adttekeepstring),SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
out=adam.adtte;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
by &adttesortstring;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
run;,SAS Files\adam_adtte.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\ae.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\ae.sas,,,,,,,,,,,,No,
options validvarname=any;,SAS Files\ae.sas,,,,,,,,,,,,No,
/* if the input file is txt format*/,SAS Files\ae.sas,,,,,,,,,,,,No,
"/*if the input file is excel format. note the raw data should use space, not dot, for missing number*/",SAS Files\ae.sas,,,,,,,,,,,,No,
proc import out=temp,SAS Files\ae.sas,,,,,,,,,,,,No,
"datafile=""/folders/myfolders/test1/ae.xlsx""",SAS Files\ae.sas,,,,,,,,,,,,No,
dbms=xlsx replace;,SAS Files\ae.sas,,,,,,,,,,,,No,
getnames=no;,SAS Files\ae.sas,,,,,,,,,,,,No,
sheet='sheet1';,SAS Files\ae.sas,,,,,,,,,,,,No,
run;,SAS Files\ae.sas,,,,,,,,,,,,No,
proc format;,SAS Files\ae.sas,,,,,,,,,,,,No,
value aerel,SAS Files\ae.sas,,,,,,,,,,,,No,
"1=""not""",SAS Files\ae.sas,,,,,,,,,,,,No,
"2=""possibly""",SAS Files\ae.sas,,,,,,,,,,,,No,
"3=""probably"";",SAS Files\ae.sas,,,,,,,,,,,,No,
value aesev,SAS Files\ae.sas,,,,,,,,,,,,No,
"1=""mild""",SAS Files\ae.sas,,,,,,,,,,,,No,
"2=""moderate""",SAS Files\ae.sas,,,,,,,,,,,,No,
"3=""severe"";",SAS Files\ae.sas,,,,,,,,,,,,No,
value aeacn,SAS Files\ae.sas,,,,,,,,,,,,No,
"1=""drug stopped""",SAS Files\ae.sas,,,,,,,,,,,,No,
"2=""dose reduced""",SAS Files\ae.sas,,,,,,,,,,,,No,
"3=""dose increased""",SAS Files\ae.sas,,,,,,,,,,,,No,
"4=""no dose change""",SAS Files\ae.sas,,,,,,,,,,,,No,
"5=""unknown"";",SAS Files\ae.sas,,,,,,,,,,,,No,
run;,SAS Files\ae.sas,,,,,,,,,,,,No,
data source.adverse;,SAS Files\ae.sas,,,,,,,,adverse,,,source.adverse,Yes,Yes
set temp (rename=(a=subject b=_aerel c=_aesev d=aeaction e=aestart f=aeend g=bodysys h=prefterm i=aetext));,SAS Files\ae.sas,,,,,,,,,,,,No,
"label subject  = ""subject number""",SAS Files\ae.sas,,,,,,,,,,,,No,
"bodysys = ""body system of event""",SAS Files\ae.sas,,,,,,,,,,,,No,
"prefterm  = ""preferred term for event""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aerel    = ""relatedness: 1=not,2=possibly,3=probably""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aesev    = ""severity/intensity:1=mild,2=moderate,3=severe""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aeaction = ""action taken: 1=drug stopped, 2=dose reduced, 3=dose increased, 4=no dose change, 5=unknown""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aestart  = ""ae start date""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aeend    = ""ae end date""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aeser  = ""serious ae?""",SAS Files\ae.sas,,,,,,,,,,,,No,
"aetext   = ""event verbatim text""",SAS Files\ae.sas,,,,,,,,,,,,No,
"uniqueid = ""company wide subject id"";",SAS Files\ae.sas,,,,,,,,,,,,No,
"uniqueid = 'uni' || put(subject,3.);",SAS Files\ae.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\ae.sas,,,,,,,,,,,,No,
aeterm = left(aetext);,SAS Files\ae.sas,,,,,,,,,,,,No,
aedecod = left(prefterm);,SAS Files\ae.sas,,,,,,,,,,,,No,
aebodsys = left(bodysys);,SAS Files\ae.sas,,,,,,,,,,,,No,
"aesev = put(_aesev,aesev.);",SAS Files\ae.sas,,,,,,,,,,,,No,
"aeacn = put(aeaction,aeacn.);",SAS Files\ae.sas,,,,,,,,,,,,No,
"aerel = put(_aerel,aerel.);",SAS Files\ae.sas,,,,,,,,,,,,No,
"aestdtc = put(aestart,yymmdd10.);",SAS Files\ae.sas,,,,,,,,,,,,No,
"aeendtc = put(aeend,yymmdd10.);",SAS Files\ae.sas,,,,,,,,,,,,No,
aeser = 'n';,SAS Files\ae.sas,,,,,,,,,,,,No,
run;,SAS Files\ae.sas,,,,,,,,,,,,No,
/*examine data types of the input data*/,SAS Files\ae.sas,,,,,,,,,,,,No,
proc contents data=source.adverse;,SAS Files\ae.sas,,,,,,,,,,,,No,
run;,SAS Files\ae.sas,,,,,,,,,,,,No,
proc print data=source.adverse;,SAS Files\ae.sas,,,,,,,,,,,,No,
run;,SAS Files\ae.sas,,,,,,,,,,,,No,
"%macro cfb(indata= ,outdata= ,avalvar= ,dayvar= ,keepvars= );",SAS Files\cfb.sas,,,,,cfb,,,,,,,No,
proc sort,SAS Files\cfb.sas,,,,,,,,,,,,No,
data = &indata,SAS Files\cfb.sas,,,,,,,,,,,,No,
out = &outdata (rename = (&avalvar = aval));,SAS Files\cfb.sas,,,,,,,,,,,,No,
by usubjid visitnum;,SAS Files\cfb.sas,,,,,,,,,,,,No,
run;,SAS Files\cfb.sas,,,,,,,,,,,,No,
data base1 (keep = usubjid visitnum) base2 (keep = usubjid base);,SAS Files\cfb.sas,,,,,,,,,,,,No,
set &outdata;,SAS Files\cfb.sas,,,,,,,,,,,,No,
where &dayvar<=1 and aval > .z;,SAS Files\cfb.sas,,,,,,,,,,,,No,
by usubjid visitnum;,SAS Files\cfb.sas,,,,,,,,,,,,No,
rename aval = base;,SAS Files\cfb.sas,,,,,,,,,,,,No,
if last.usubjid;,SAS Files\cfb.sas,,,,,,,,,,,,No,
run;,SAS Files\cfb.sas,,,,,,,,,,,,No,
data &outdata;,SAS Files\cfb.sas,,,,,,,,,,,,No,
merge &outdata base1 (in = inbase);,SAS Files\cfb.sas,,,,,,,"&outdata, base1, (in, =, inbase)",,,,,No,
by usubjid visitnum;,SAS Files\cfb.sas,,,,,,,,,,,,No,
if inbase then,SAS Files\cfb.sas,,,,,,,,,,,,No,
ablfl = 'y';,SAS Files\cfb.sas,,,,,,,,,,,,No,
run;,SAS Files\cfb.sas,,,,,,,,,,,,No,
data &outdata;,SAS Files\cfb.sas,,,,,,,,,,,,No,
merge &outdata base2;,SAS Files\cfb.sas,,,,,,,"&outdata, base2",,,,,No,
by usubjid;,SAS Files\cfb.sas,,,,,,,,,,,,No,
%if &keepvars^= %then,SAS Files\cfb.sas,,,,,,,,,,,,No,
keep  &keepvars;,SAS Files\cfb.sas,,,,,,,,,,,,No,
;,SAS Files\cfb.sas,,,,,,,,,,,,No,
chg  = aval - base;,SAS Files\cfb.sas,,,,,,,,,,,,No,
pchg = chg/base*100;,SAS Files\cfb.sas,,,,,,,,,,,,No,
run;,SAS Files\cfb.sas,,,,,,,,,,,,No,
%mend cfb;,SAS Files\cfb.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* import the diabetes dataset */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"proc import datafile=""/home/u64112808/sasuser.v94/diabetes prediction project/diabetes.csv""",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
out=diabetes_data,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
dbms=csv,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
replace;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
getnames=yes;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display dataset structure and metadata */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""imported diabetes dataset overview"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc contents data=diabetes_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display metadata */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""metadata of diabetes dataset"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc contents data=diabetes_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display the first 10 rows of the dataset */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""sample of the first 10 rows in the dataset"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc print data=diabetes_data(obs=10);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* summary of missing values and basic statistics */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""summary of missing values and basic statistics"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_data n nmiss;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* frequency distribution of the target variable */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""frequency distribution of outcome variable"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc freq data=diabetes_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tables outcome / missing;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* check for invalid zeros in key variables */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""checking missing and invalid values in key variables"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_data n nmiss min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var glucose bloodpressure skinthickness insulin bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* replace biologically invalid zeros with missing values */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data diabetes_clean;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set diabetes_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if glucose = 0 then glucose = .;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if bloodpressure = 0 then bloodpressure = .;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if skinthickness = 0 then skinthickness = .;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if insulin = 0 then insulin = .;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if bmi = 0 then bmi = .;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* validate the dataset after replacing invalid zeros */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""summary after replacing invalid zeros with missing values"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_clean n nmiss min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var glucose bloodpressure skinthickness insulin bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* distribution of missing values after cleaning */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""checking distribution of missing values after cleaning"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_clean n nmiss;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* calculate means for missing value imputation */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_clean noprint;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var glucose bloodpressure skinthickness insulin bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output out=mean_values,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
mean=mean_glucose mean_bp mean_st mean_insulin mean_bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* impute missing values using calculated means */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set diabetes_clean;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if _n_ = 1 then set mean_values;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if missing(glucose) then glucose = mean_glucose;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if missing(bloodpressure) then bloodpressure = mean_bp;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if missing(skinthickness) then skinthickness = mean_st;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if missing(insulin) then insulin = mean_insulin;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if missing(bmi) then bmi = mean_bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* validate the dataset after imputation */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""summary after correcting imputation logic"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_imputed n nmiss min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display the first 10 rows of the final dataset */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""final cleaned and preprocessed dataset after correct imputation"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc print data=diabetes_imputed(obs=10);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* generate summary statistics for all numeric variables */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""descriptive statistics for key variables"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_imputed n mean std min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var pregnancies glucose bloodpressure skinthickness insulin bmi diabetespedigreefunction age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* analyze the distribution of glucose levels */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""distribution of glucose levels"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
histogram glucose / binwidth=10;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
density glucose;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""glucose level"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""frequency"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* analyze the distribution of bmi */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""distribution of bmi"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
histogram bmi / binwidth=2;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
density bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""body mass index (bmi)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""frequency"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* analyze the distribution of age */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""distribution of age"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
histogram age / binwidth=5;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
density age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""age (years)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""frequency"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* compute correlations between key variables */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""correlation analysis of key variables"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc corr data=diabetes_imputed plots=matrix;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var pregnancies glucose bloodpressure skinthickness insulin bmi diabetespedigreefunction age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* analyze the distribution of the target variable */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""distribution of outcome (diabetes vs. non-diabetes)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc freq data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tables outcome / plots=freqplot;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* boxplot analysis for glucose by outcome */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""boxplot of glucose by outcome"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
vbox glucose / category=outcome;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""outcome (0: no diabetes, 1: diabetes)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""glucose level"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* boxplot analysis for bmi by outcome */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""boxplot of bmi by outcome"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
vbox bmi / category=outcome;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""outcome (0: no diabetes, 1: diabetes)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""bmi"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* boxplot analysis for age by outcome */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""boxplot of age by outcome"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sgplot data=diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
vbox age / category=outcome;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"xaxis label=""outcome (0: no diabetes, 1: diabetes)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"yaxis label=""age (years)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"/* calculate mean and standard deviation for glucose, bmi, and age */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_imputed noprint;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var glucose bmi age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output out=stats mean=mean_glucose mean_bmi mean_age,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
std=std_glucose std_bmi std_age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"/* standardize glucose, bmi, and age using calculated means and standard deviations */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data diabetes_scaled;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set diabetes_imputed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
if _n_ = 1 then set stats;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_glucose = (glucose - mean_glucose) / std_glucose;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_bmi = (bmi - mean_bmi) / std_bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_age = (age - mean_age) / std_age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* verify the scaled variables */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""summary of scaled features (z_glucose, z_bmi, z_age)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_scaled n mean std min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var z_glucose z_bmi z_age;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* add interaction terms and categorize bmi */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data diabetes_engineered;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set diabetes_scaled;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* interaction term: glucose and bmi */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
interaction_glucose_bmi = z_glucose * z_bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* bmi categories */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"if bmi < 18.5 then bmi_category = ""underweight"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else if bmi >= 18.5 and bmi < 25 then bmi_category = ""normal"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else if bmi >= 25 and bmi < 30 then bmi_category = ""overweight"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else bmi_category = ""obese"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* verify engineered features */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""summary of engineered features (interaction_glucose_bmi and bmi_category)"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc means data=diabetes_engineered n mean std min max;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var interaction_glucose_bmi;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc freq data=diabetes_engineered;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tables bmi_category;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* logistic regression to predict outcome (diabetes) */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""logistic regression model: predicting diabetes outcome"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc logistic data=diabetes_engineered descending;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"class bmi_category (ref=""normal""); /* specify bmi_category as a class variable */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
model outcome = z_glucose z_bmi z_age interaction_glucose_bmi bmi_category / selection=stepwise;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output out=logistic_results predicted=predicted_prob;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* create a binary prediction variable based on a 0.5 threshold */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"predicted_class = (predicted_prob >= 0.5); /* 1 = diabetes, 0 = no diabetes */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* generate confusion matrix */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""confusion matrix for logistic regression predictions"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc freq data=logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tables outcome * predicted_class / chisq norow nocol nopercent;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* summarize confusion matrix values */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sql;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
select,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 1 and predicted_class = 1 then 1 else 0 end) as tp, /* true positives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 0 and predicted_class = 0 then 1 else 0 end) as tn, /* true negatives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 0 and predicted_class = 1 then 1 else 0 end) as fp, /* false positives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
sum(case when outcome = 1 and predicted_class = 0 then 1 else 0 end) as fn /* false negatives */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"into :tp, :tn, :fp, :fn",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
from logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
quit;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* calculate and display performance metrics */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data performance_metrics;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tp = &tp;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tn = &tn;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
fp = &fp;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
fn = &fn;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
accuracy = (tp + tn) / (tp + tn + fp + fn);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
precision = tp / (tp + fp);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
recall = tp / (tp + fn);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
specificity = tn / (tn + fp);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
f1_score = 2 * (precision * recall) / (precision + recall);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display performance metrics */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""performance metrics for logistic regression model"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc print data=performance_metrics;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var tp tn fp fn accuracy precision recall specificity f1_score;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
format accuracy precision recall specificity f1_score 8.3; /* format metrics for readability */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* generate roc curve and calculate auc */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""roc curve and auc for logistic regression"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc logistic data=diabetes_engineered plots(only)=roc;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"class bmi_category (ref=""normal"");",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
model outcome = z_glucose z_bmi z_age interaction_glucose_bmi bmi_category;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output out=roc_results predicted=predicted_prob;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""refined logistic regression model: excluding non-significant interaction term"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc logistic data=diabetes_engineered descending;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"class bmi_category (ref=""normal"");",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
model outcome = z_glucose z_bmi z_age bmi_category / selection=stepwise;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output out=refined_logistic_results predicted=predicted_prob;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* create a binary prediction variable based on a 0.5 threshold */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data refined_logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set refined_logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"predicted_class = (predicted_prob >= 0.5); /* 1 = diabetes, 0 = no diabetes */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* generate confusion matrix */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""confusion matrix for refined logistic regression predictions"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc freq data=refined_logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tables outcome * predicted_class / chisq norow nocol nopercent;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* summarize confusion matrix values */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc sql;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
select,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 1 and predicted_class = 1 then 1 else 0 end) as tp, /* true positives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 0 and predicted_class = 0 then 1 else 0 end) as tn, /* true negatives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"sum(case when outcome = 0 and predicted_class = 1 then 1 else 0 end) as fp, /* false positives */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
sum(case when outcome = 1 and predicted_class = 0 then 1 else 0 end) as fn /* false negatives */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"into :tp, :tn, :fp, :fn",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
from refined_logistic_results;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
quit;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* calculate and display performance metrics */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data refined_performance_metrics;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tp = &tp;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
tn = &tn;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
fp = &fp;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
fn = &fn;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
accuracy = (tp + tn) / (tp + tn + fp + fn);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
precision = tp / (tp + fp);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
recall = tp / (tp + fn);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
specificity = tn / (tn + fp);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
f1_score = 2 * (precision * recall) / (precision + recall);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
output;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"proc import datafile=""/home/u64112808/sasuser.v94/diabetes prediction project/test_data.csv""",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
out=new_data,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
dbms=csv,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
replace;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
getnames=yes;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* display the structure of the imported data */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""structure of the imported test dataset"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc contents data=new_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data new_data_processed;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set new_data;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* standardize variables using actual training dataset means and standard deviations */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_glucose = (glucose - 121.69) / 30.44;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_bmi = (bmi - 32.46) / 6.88;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
z_age = (age - 33.24) / 11.76;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* assign bmi categories */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"if bmi < 18.5 then bmi_category = ""underweight"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else if bmi >= 18.5 and bmi < 25 then bmi_category = ""normal"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else if bmi >= 25 and bmi < 30 then bmi_category = ""overweight"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"else bmi_category = ""obese"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* verify the processed data */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""processed test dataset"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc print data=new_data_processed(obs=10);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc logistic inmodel=refined_model;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
score data=new_data_processed out=new_data_predictions;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* check if scoring was successful */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""contents of scored data"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc contents data=new_data_predictions;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
data new_data_predictions;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
set new_data_predictions;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
predicted_prob = p_1; /* map predicted probability for outcome=1 */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"predicted_class = (predicted_prob >= 0.5); /* binary classification: 1 = diabetes, 0 = no diabetes */",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""predictions for processed test dataset"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc print data=new_data_predictions(obs=10);,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
var pregnancies glucose bloodpressure skinthickness insulin bmi diabetespedigreefunction age outcome predicted_prob predicted_class;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
title;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/******************************************,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
proc export data=new_data_predictions,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"outfile=""/home/u64112808/sasuser.v94/diabetes prediction project/predicted_data.csv""",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
dbms=csv,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
replace;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/* confirmation */,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
"title ""predictions exported to csv"";",SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
run;,SAS Files\Diabetes Prediction.sas,,,,,,,,,,,,No,
/*process the raw demographic data from a csv file*/,SAS Files\dm.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\dm.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\dm.sas,,,,,,,,,,,,No,
filename infl '/folders/myfolders/test1/dm.csv';,SAS Files\dm.sas,,,,,,,,,,,,No,
proc format;,SAS Files\dm.sas,,,,,,,,,,,,No,
value trt,SAS Files\dm.sas,,,,,,,,,,,,No,
"1 = ""active""",SAS Files\dm.sas,,,,,,,,,,,,No,
"0 = ""placebo"";",SAS Files\dm.sas,,,,,,,,,,,,No,
value gender,SAS Files\dm.sas,,,,,,,,,,,,No,
"1 = ""m""",SAS Files\dm.sas,,,,,,,,,,,,No,
"2 = ""f""",SAS Files\dm.sas,,,,,,,,,,,,No,
"3 = ""u"";",SAS Files\dm.sas,,,,,,,,,,,,No,
value race,SAS Files\dm.sas,,,,,,,,,,,,No,
"1 = ""white""",SAS Files\dm.sas,,,,,,,,,,,,No,
"2 = ""black""",SAS Files\dm.sas,,,,,,,,,,,,No,
"3 = ""other"";",SAS Files\dm.sas,,,,,,,,,,,,No,
run;,SAS Files\dm.sas,,,,,,,,,,,,No,
data source.demographic;,SAS Files\dm.sas,,,,,,,,demographic,,,source.demographic,Yes,Yes
infile infl dlm='2c0d'x dsd missover;,SAS Files\dm.sas,,,,,,,,,,,,No,
length dob1 $10,SAS Files\dm.sas,,,,,,,,,,,,No,
randdt1 $10;,SAS Files\dm.sas,,,,,,,,,,,,No,
input subject trt gender race orace $ dob1 $ randdt1 $;,SAS Files\dm.sas,,,,,,,,,,,,No,
"dob=input(dob1,mmddyy10.);",SAS Files\dm.sas,,,,,,,,,,,,No,
"randdt=input(randdt1,mmddyy10.);",SAS Files\dm.sas,,,,,,,,,,,,No,
format dob randdt mmddyy10.;,SAS Files\dm.sas,,,,,,,,,,,,No,
"uniqueid = 'uni' || put(subject,3.);",SAS Files\dm.sas,,,,,,,,,,,,No,
"gender1=put(gender,gender.);",SAS Files\dm.sas,,,,,,,,,,,,No,
"race1=put(race,race.);",SAS Files\dm.sas,,,,,,,,,,,,No,
"trt1=put(trt,trt.);",SAS Files\dm.sas,,,,,,,,,,,,No,
"label subject  = ""subject number""",SAS Files\dm.sas,,,,,,,,,,,,No,
"trt      = ""treatment""",SAS Files\dm.sas,,,,,,,,,,,,No,
"gender   = ""gender""",SAS Files\dm.sas,,,,,,,,,,,,No,
"race     = ""race""",SAS Files\dm.sas,,,,,,,,,,,,No,
"orace    = ""oher race specify""",SAS Files\dm.sas,,,,,,,,,,,,No,
"dob      = ""date of birth""",SAS Files\dm.sas,,,,,,,,,,,,No,
"uniqueid = ""company wide subject id""",SAS Files\dm.sas,,,,,,,,,,,,No,
"randdt   = ""randomization date"";",SAS Files\dm.sas,,,,,,,,,,,,No,
drop dob1 randdt1 gender race;,SAS Files\dm.sas,,,,,,,,,,,,No,
rename gender1=gender race1=race;,SAS Files\dm.sas,,,,,,,,,,,,No,
run;,SAS Files\dm.sas,,,,,,,,,,,,No,
/*process the raw dose data from an excel file,SAS Files\ds.sas,,,,,,,,,,,,No,
key points: 1) make up missing dates; 2)convert excel dates to sas dates,SAS Files\ds.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\ds.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\ds.sas,,,,,,,,,,,,No,
"libname ds xlsx ""/folders/myfolders/test1/ds.xlsx"";",SAS Files\ds.sas,,,,,,,,,,,,No,
data source.dosing;,SAS Files\ds.sas,,,,,,,,dosing,,,source.dosing,Yes,Yes
set ds.sheet1;,SAS Files\ds.sas,,,,,,,sheet1,,,ds.sheet1,,No,Yes
"if find(startdt,'/') then",SAS Files\ds.sas,,,,,,,,,,,,No,
do;,SAS Files\ds.sas,,,,,,,,,,,,No,
array var1(3) $4.;,SAS Files\ds.sas,,,,,,,,,,,,No,
do i=1 to 3;,SAS Files\ds.sas,,,,,,,,,,,,No,
"var1(i)=scan(startdt,i,""/"");",SAS Files\ds.sas,,,,,,,,,,,,No,
if var1(i)=' ' then,SAS Files\ds.sas,,,,,,,,,,,,No,
var1(i)='1';,SAS Files\ds.sas,,,,,,,,,,,,No,
end;,SAS Files\ds.sas,,,,,,,,,,,,No,
"startdt1=mdy(input(var1(1),$4.), input(var1(2),$4.) , input(var1(3),$4.));",SAS Files\ds.sas,,,,,,,,,,,,No,
end;,SAS Files\ds.sas,,,,,,,,,,,,No,
else,SAS Files\ds.sas,,,,,,,,,,,,No,
"startdt1=input(startdt,$10.)-21916;",SAS Files\ds.sas,,,,,,,,,,,,No,
"if find(enddt,'/') then",SAS Files\ds.sas,,,,,,,,,,,,No,
do;,SAS Files\ds.sas,,,,,,,,,,,,No,
array var2(3) $4.;,SAS Files\ds.sas,,,,,,,,,,,,No,
do i=1 to 3;,SAS Files\ds.sas,,,,,,,,,,,,No,
"var2(i)=scan(enddt,i,""/"");",SAS Files\ds.sas,,,,,,,,,,,,No,
if var2(i)=' ' then,SAS Files\ds.sas,,,,,,,,,,,,No,
var2(i)='1';,SAS Files\ds.sas,,,,,,,,,,,,No,
end;,SAS Files\ds.sas,,,,,,,,,,,,No,
"enddt1=mdy(input(var2(1),$4.), input(var2(2),$4.) , input(var2(3),$4.));",SAS Files\ds.sas,,,,,,,,,,,,No,
end;,SAS Files\ds.sas,,,,,,,,,,,,No,
else,SAS Files\ds.sas,,,,,,,,,,,,No,
"enddt1=input(enddt,$10.)-21916;",SAS Files\ds.sas,,,,,,,,,,,,No,
"uniqueid = 'uni' || put(subject,3.);",SAS Files\ds.sas,,,,,,,,,,,,No,
format startdt1 enddt1 mmddyy10.;,SAS Files\ds.sas,,,,,,,,,,,,No,
drop i startdt enddt var11-var13 var21-var23;,SAS Files\ds.sas,,,,,,,,,,,,No,
rename startdt1=startdt enddt1=enddt;,SAS Files\ds.sas,,,,,,,,,,,,No,
run;,SAS Files\ds.sas,,,,,,,,,,,,No,
"%macro dtc2dt(dtcvar , prefix=a, refdt= );",SAS Files\dtc2dt.sas,,,,,dtc2dt,,,,,,,No,
"if length(trim(&dtcvar))=10 and index(&dtcvar,'--')=0 then",SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
"&prefix.dt = input(&dtcvar, yymmdd10.);",SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
"else if length(&dtcvar)=16 and index(&dtcvar,'--')=0 and index(&dtcvar,'-:')=0 then",SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
do;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
"&prefix.dtm = input(trim(&dtcvar)||"":00"", e8601dt19.);",SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
&prefix.dt  = datepart(&prefix.dtm);,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
end;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
%if &refdt^= %then,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
%do;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
if .<&prefix.dt<&refdt then,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
&prefix.dy = &prefix.dt - &refdt;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
else if &prefix.dt>=&refdt then,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
&prefix.dy = &prefix.dt - &refdt + 1;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
%end;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
%mend dtc2dt;,SAS Files\dtc2dt.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\lab.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\lab.sas,,,,,,,,,,,,No,
options validvarname=any;,SAS Files\lab.sas,,,,,,,,,,,,No,
proc import out=temp,SAS Files\lab.sas,,,,,,,,,,,,No,
"datafile=""/folders/myfolders/test1/lab.xls""",SAS Files\lab.sas,,,,,,,,,,,,No,
dbms=xls replace;,SAS Files\lab.sas,,,,,,,,,,,,No,
getnames=no;,SAS Files\lab.sas,,,,,,,,,,,,No,
sheet='sheet1';,SAS Files\lab.sas,,,,,,,,,,,,No,
run;,SAS Files\lab.sas,,,,,,,,,,,,No,
data source.labs;,SAS Files\lab.sas,,,,,,,,labs,,,source.labs,Yes,Yes
set temp (rename=(a=subject b=month c=labcat d=labtest e=colunits f=nresult g=lownorm h=highnorm i=labdate));,SAS Files\lab.sas,,,,,,,,,,,,No,
if lownorm=. then lownorm=0;,SAS Files\lab.sas,,,,,,,,,,,,No,
"uniqueid = 'uni' || put(subject,3.);",SAS Files\lab.sas,,,,,,,,,,,,No,
run;,SAS Files\lab.sas,,,,,,,,,,,,No,
"libname sas ""c:\00\00-data science\15-sas_project\sas_finalproject\sas_finalproject_library"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,sas,,,,,c:\00\00-data science\15-sas_project\sas_finalproject\sas_finalproject_library,,,No,
proc import out= sas.heart,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"datafile= ""c:\00\00-data science\15-sas_project\sas_finalpro",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"ject\heart.csv""",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
dbms=csv replace;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
getnames=yes;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
datarow=2;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/************************* features ********************************************************************;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age: age of the patient [years],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"sex: sex of the patient [m: male, f: female]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"chestpaintype: chest pain type [ta: typical angina, ata: atypical angina, nap: non-anginal pain, asy: asymptomatic]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
restingbp: resting blood pressure [mm hg],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
normal resting blood pressure for a healthy adult typically ranges from 90/60 mmhg to 120/80 mmhg.,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
cholesterol: serum cholesterol [mm/dl],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"fastingbs: fasting blood sugar [1: if fastingbs > 120 mg/dl, 0: otherwise]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
restingecg: resting electrocardiogram results,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"[normal: normal,",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"st: having st-t wave abnormality (t wave inversions and/or st elevation or depression of > 0.05 mv),",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lvh: showing probable or definite left ventricular hypertrophy by estes' criteria],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
maxhr: maximum heart rate achieved [numeric value between 60 and 202],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"exerciseangina: exercise-induced angina [y: yes, n: no]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
oldpeak: oldpeak = st [numeric value measured in depression],SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
[thresholds for concern,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
<0 mm:may indicate heart attack or other conditions,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
0 mm: no st depression (normal).,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"1-2 mm: mild st depression, may require further evaluation.",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
">2 mm: significant st depression, often indicative of severe ischemia or coronary artery disease (cad).]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"st_slope: the slope of the peak exercise st segment [up: upsloping, flat: flat, down: downsloping]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
target:,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"heartdisease: output class [1: heart disease, 0: normal]",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*explore and describe the dataset briefly.*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
browsing descriptor portion;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro brows(x);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,brows,,,,,,,No,
"title ""browsing data portion of &x"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=sas.heart (obs=20);run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""browsing descriptor portion of &x"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc contents data=sas.heart;run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend brows;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%brows(heart disease dataset),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,brows,,,,,,No,
age | restingbp | cholesterol | maxhr | oldpeak;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
sex | chestpaintype | fastingbs | restingecg | exerciseangina | st_slope;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*duplicates in the dataset*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sort data=sas.heart out=sas.heart_sorted noduprecs dupout=sas.heart_duplicates;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
by _all_;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc contents data=sas.heart_duplicates;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*missing values in the dataset*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""the number of missing values in numerical variables"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc means data=sas.heart nmiss;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""the numeber of missing values in categorical variables"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
tables sex chestpaintype fastingbs restingecg exerciseangina st_slope / missing nocum;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
univariate analysis,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""univariate analysis: numerical variables in heart data"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc univariate data=sas.heart normal plot;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age restingbp cholesterol maxhr oldpeak;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*create macro for univaritae analysis (numericable variabels)*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""univariate analysis (numerical): age"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc means data=sas.heart n nmiss min p10 q1 mean median q3 p90 p99 max std cv clm maxdec=2;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
histogram age / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density age;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density age / type=kernel;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
hbox age / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods select qqplot testsfornormality;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc univariate data=sas.heart normal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
qqplot age / normal(mu=est sigma=est);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%let var=age;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""univariate analysis (numerical): &var"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc means data=sas.heart n nmiss min p10 q1 mean median q3 p90 p99 max std cv clm maxdec=2;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
histogram &var / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density &var / type=kernel;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
hbox &var / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods select qqplot testsfornormality;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc univariate data=sas.heart normal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
qqplot &var / normal(mu=est sigma=est);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro unianalysis_num(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,unianalysis_num,,,,,,,No,
"title ""univariate analysis (numerical): &var"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* descriptive statistics */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc means data=sas.heart n nmiss min p10 q1 mean median q3 p90 p99 max std cv clm maxdec=2;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* distribution */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
histogram &var / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
density &var / type=kernel;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* boxplot: potential outliers */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
hbox &var / fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* normality test */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods select qqplot testsfornormality;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc univariate data=sas.heart normal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
qqplot &var / normal(mu=est sigma=est);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend unianalysis_num;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%unianalysis_num(age);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_num,,,,,,No,
%unianalysis_num(restingbp);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_num,,,,,,No,
%unianalysis_num(cholesterol);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_num,,,,,,No,
%unianalysis_num(maxhr);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_num,,,,,,No,
%unianalysis_num(oldpeak);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_num,,,,,,No,
"%macro turkey_outliers(var,threshold);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,turkey_outliers,,,,,,,No,
"title ""&var outlier detection based on turkey menthod thresholds"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 1: calculate quartiles (q1 and q3)*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc means data=sas.heart noprint;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out=quartiles(drop=_type_ _freq_) p25=q1 p75=q3;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 2: compute iqr and outlier bounds*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data outlier_bounds;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set quartiles;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
iqr=q3-q1;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lower_bound=q1-&threshold*iqr;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
upper_bound=q3+&threshold*iqr;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 3: detect outliers*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data detected_outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
if _n_=1 then set outlier_bounds;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,heart,,,sas.heart,,No,No
if &var<lower_bound or &var>upper_bound then outlier=1;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
else outlier=0;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 4: print outliers*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=detected_outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
where outlier=1;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend turkey_outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%turkey_outliers(age,1.5);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(age,3);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(restingbp,1.5);  /*""0""*/",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(restingbp,3);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(cholesterol,1.5); /*""0""*/",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(cholesterol,3);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(maxhr,1.5);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(maxhr,3);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(oldpeak,1.5);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%turkey_outliers(oldpeak,3);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,turkey_outliers,,,,,,No,
"%macro std_outliers(var,threshold);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,std_outliers,,,,,,,No,
"title ""&var outlier detection based on z-score thresholds"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data heart_outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,heart,,,sas.heart,,No,No
&var._original=&var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 1: standardize*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc stdize data=heart_outliers out=heart_std;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 2: detect outliers*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data &var._outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set heart_std;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
where &var < -&threshold or &var > &threshold;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*step 3: print outliers*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=&var._outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
where &var < -&threshold or &var > &threshold;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend std_outliers;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%std_outliers(age,1.96)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(age,3)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(restingbp,1.96)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(restingbp,3)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(cholesterol,1.96)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(cholesterol,3)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(maxhr,1.96)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(maxhr,3)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(oldpeak,1.96)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"%std_outliers(oldpeak,3)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,std_outliers,,,,,,No,
"title ""univariate analysis: categorical variables in heart data"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table sex chestpaintype fastingbs restingecg exerciseangina st_slope / nocum;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*create macro for univaritae analysis (categorical variabels)*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""univariate analysis (categorical): sex"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table sex;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"goptions reset=all ftext=""arial"" htext=1.2;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern1 color=lightcoral;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern2 color=lightblue;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern3 color=cream;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern4 color=lightgray;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc gchart data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pie sex / discrete,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
value=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
percent=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
coutline=white;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%let var=sex;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""univariate analysis (categorical): &var"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"goptions reset=all ftext=""arial"" htext=1.2;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern1 color=lightcoral;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern2 color=lightblue;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern3 color=cream;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern4 color=lightgray;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc gchart data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pie &var / discrete,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
value=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
percent=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
coutline=white;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro unianalysis_cat(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,unianalysis_cat,,,,,,,No,
"title ""univariate analysis (categorical): &var"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* descriptive statistics */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* pie chart */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"goptions reset=all ftext=""arial"" htext=1.2;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern1 color=lightcoral;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern2 color=lightblue;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern3 color=cream;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pattern4 color=lightgray;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc gchart data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pie &var / discrete,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
value=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
percent=inside,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
coutline=white;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend unianalysis_cat;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%unianalysis_cat(sex);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
%unianalysis_cat(chestpaintype);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
%unianalysis_cat(fastingbs);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
%unianalysis_cat(restingecg);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
%unianalysis_cat(exerciseangina);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
%unianalysis_cat(st_slope);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat,,,,,,No,
/*target variable: heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro unianalysis_cat_vbar(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,unianalysis_cat_vbar,,,,,,,No,
"title ""&var"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* descriptive statistics */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table &var / out=freqdata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics / width=800px height=600px;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* bar chart */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=freqdata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
vbar &var / response=count datalabel,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
datalabelattrs=(size=12),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
barwidth=0.6,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
fillattrs=(color=lightcoral),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
outlineattrs=(color=black);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"yaxis label=""frequency"" grid;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
xaxis display=(nolabel);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend unianalysis_cat_vbar;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%unianalysis_cat_vbar(heartdisease);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,unianalysis_cat_vbar,,,,,,No,
bivariate analysis,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"continouse vs. continouse  : for visulaization scatter plot,...",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"for test of independence: pearson correlation or spearman or kendal tau, ...",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
categorical vs. categorical: for summaraization: contingency table (two-way table),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"for visualization :stacked bar chart,grouped bar chart,...",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
for test of independence:chi-square test,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
continouse vs. categorical : for summaraization:gropup by categorical column an aggragte for numerical column,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"for visualization: grouped box plot,grouped histogram,grouped density,...",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
for test of independence :1) if categorical column has only two levels :t-test,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
2) if categorical column has more than two levels: anova,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
categorical vs. categorical (chi-square test);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*sex | chestpaintype | fastingbs | restingecg | exerciseangina | st_slope | vs  heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%macro cat_cat(var1, var2);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,cat_cat,,,,,,,No,
"title ""stacked grouped bar chart of &var1 by &var2"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
styleattrs datacolors=(lightblue lightcoral);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
vbar &var1 / group=&var2 datalabel;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""chi-square test for &var1 and &var2"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table &var1*&var2 / chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend cat_cat;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*sex vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(sex, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class sex (ref=""f"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=sex;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans sex / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*chestpaintype vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(chestpaintype, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class chestpaintype (ref=""ata"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=chestpaintype;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans chestpaintype / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*fastingbs vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(fastingbs, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class fastingbs (ref=""0"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=fastingbs;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans fastingbs / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*restingecg vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(restingecg, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class restingecg (ref=""normal"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=restingecg;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans restingecg / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*exerciseangina vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(exerciseangina, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class exerciseangina (ref=""n"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=exerciseangina;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans exerciseangina / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*st_slope vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_cat(st_slope, heartdisease);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_cat,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class st_slope (ref=""up"")/param=glm;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=st_slope;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
lsmeans st_slope / e ilink;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"continouse vs. categorical (target ""heartdisease"" is categorical variable);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*age | restingbp | cholesterol | maxhr | oldpeak | vs heartdisease*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro con_cat(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,con_cat,,,,,,,No,
"title ""impact of &var on heart disease"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model heartdisease(event='1')=&var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*visuliation:box plot*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
vbox &var / category=heartdisease,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend con_cat;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%con_cat(age);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat,,,,,,No,
%con_cat(restingbp);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat,,,,,,No,
%con_cat(cholesterol);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat,,,,,,No,
%con_cat(maxhr);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat,,,,,,No,
%con_cat(oldpeak);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat,,,,,,No,
among all numerical features;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*age | restingbp | cholesterol | maxhr | oldpeak*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"title ""conducting correaltion between numerical variables"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc corr data=sas.heart_imp pearson spearman plots(maxpoints=none)=matrix(histogram);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age restingbp cholesterol maxhr oldpeak;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
among all categorial features;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*sex | chestpaintype | fastingbs | restingecg | exerciseangina | st_slope*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table sex*(chestpaintype fastingbs restingecg exerciseangina st_slope) /chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table chestpaintype*(fastingbs restingecg exerciseangina st_slope) /chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table fastingbs*(restingecg exerciseangina st_slope) /chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table restingecg*(exerciseangina st_slope) /chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table exerciseangina*st_slope /chisq;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
among numerical & categorical features;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*continouse vs. categorical (target is continuous variable)*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
title;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%macro cat_con(var,target);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,cat_con,,,,,,,No,
proc glm data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class &var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model &target=&var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
means &var / hovtest=levene(type=abs) welch;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend cat_con;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%macro features_con_cat(con,cat);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,features_con_cat,,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class &cat (param=ref);  			/* reference coding for categorical variable */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model &cat = &con / link=glogit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend features_con_cat;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*sex(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(sex,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(sex,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(sex,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(sex,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
/*chestpaintype(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(chestpaintype,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(chestpaintype,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(chestpaintype,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(chestpaintype,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%features_con_cat(cholesterol,chestpaintype);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(maxhr,chestpaintype);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(oldpeak,chestpaintype);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(age,chestpaintype);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
/*fastingbs(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(fastingbs,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(fastingbs,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(fastingbs,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(fastingbs,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%features_con_cat(age,fastingbs);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
/*restingecg(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(restingecg,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(restingecg,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(restingecg,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(restingecg,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%features_con_cat(restingbp,restingecg);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(cholesterol,restingecg);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(age,restingecg);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
/*exerciseangina(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(exerciseangina,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(exerciseangina,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(exerciseangina,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(exerciseangina,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
%macro angina_con_cat(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,angina_con_cat,,,,,,,No,
proc logistic data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model exerciseangina(event='y')=&var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*visuliation:box plot*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sgplot data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
vbox &var / category=exerciseangina,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
fillattrs=(color=lightblue);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend angina_con_cat;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%angina_con_cat(restingbp);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,angina_con_cat,,,,,,No,
%angina_con_cat(maxhr);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,angina_con_cat,,,,,,No,
%angina_con_cat(oldpeak);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,angina_con_cat,,,,,,No,
%angina_con_cat(age);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,angina_con_cat,,,,,,No,
/*st_slope(categorical) vs. continuous*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%cat_con(st_slope,restingbp);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(st_slope,cholesterol);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(st_slope,maxhr);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%cat_con(st_slope,oldpeak);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,cat_con,,,,,,No,
"%features_con_cat(restingbp,st_slope);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(cholesterol,st_slope);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(maxhr,st_slope);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(oldpeak,st_slope);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
"%features_con_cat(age,st_slope);",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,features_con_cat,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc pls data=sas.heart plots=all;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class heartdisease sex chestpaintype fastingbs restingecg exerciseangina st_slope;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model cholesterol = heartdisease sex chestpaintype fastingbs restingecg exerciseangina st_slope,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age restingbp maxhr oldpeak / solution;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc reg data=sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model heartdisease=age restingbp cholesterol maxhr oldpeak / vif collinoint;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out = outstat,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
p = predicted,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
r = residual,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
stdr = se_resid,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
rstudent = rstudent,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
h = leverage,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
cookd = cooksd;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
explaination using logistic regression;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc logistic data=sas.heart plots(only)=(effect oddsratio);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class sex(ref=""f"") chestpaintype(ref=""ata"") fastingbs(ref=""0"") restingecg(ref=""st"")",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"exerciseangina(ref=""n"") st_slope(ref=""up"")/param=ref;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")= sex chestpaintype fastingbs restingecg exerciseangina st_slope",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age restingbp cholesterol maxhr oldpeak / details lackfit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out=pred p=phat lower=lcl upper=ucl predprob=(individual crossvalidate);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods output association=association;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*predictive modeling*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"handling missing values (restingbp, cholesterol)",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
number of restingbp=0;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sql;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
select count(*) as num_obs,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
from sas.heart,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
where restingbp=0;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,heart_imp,,,sas.heart_imp,Yes,No
set sas.heart;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,heart,,,sas.heart,,No,No
if restingbp=0 then restingbp=130;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sql;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
select count(*) as num_obs,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
from sas.heart,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
where cholesterol=0;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
title;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,heart_imp,,,sas.heart_imp,Yes,No
set sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,heart_imp,,,sas.heart_imp,,No,No
if cholesterol=0 then cholesterol=.;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
imp_cholesterol_mean=cholesterol;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
imp_cholesterol_median=cholesterol;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
imp_cholesterol_mice=cholesterol;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
if cholesterol=. then imp_cholesterol_mean=198.80;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
if cholesterol=. then imp_cholesterol_median=223.00;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc corr data=sas.heart_imp pearson spearman;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age restingbp maxhr oldpeak cholesterol imp_cholesterol_mean imp_cholesterol_median;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods select misspattern;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc mi data=sas.heart_imp nimpute=0;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class sex chestpaintype fastingbs restingecg exerciseangina st_slope;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
fcs logistic regpmm;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age sex chestpaintype restingbp fastingbs restingecg maxhr exerciseangina oldpeak st_slope imp_cholesterol_mice;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc mi data=sas.heart_imp nimpute=1 seed=2025 out=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class sex chestpaintype fastingbs restingecg exerciseangina st_slope;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
fcs logistic regpmm;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age sex chestpaintype restingbp fastingbs restingecg maxhr exerciseangina oldpeak st_slope imp_cholesterol_mice;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc corr data=sas.heart_imp pearson spearman;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
var age restingbp maxhr oldpeak cholesterol imp_cholesterol_mice imp_cholesterol_mean imp_cholesterol_median;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%macro con_cat_imp(var);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,con_cat_imp,,,,,,,No,
proc logistic data=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
model heartdisease(event='1')=&var;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%mend con_cat_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
%con_cat_imp(imp_cholesterol_mice);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,con_cat_imp,,,,,,No,
data sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,heart_imp,,,sas.heart_imp,Yes,No
set sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,heart_imp,,,sas.heart_imp,,No,No
length chestpaintype_n $10;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
length st_slope_n $10;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
chestpaintype_n = chestpaintype;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
st_slope_n = st_slope;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"if chestpaintype in (""nap"", ""ta"") then chestpaintype_n=""nap+ta"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"if st_slope in (""down"", ""flat"") then st_slope_n=""down+flat"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table chestpaintype_n st_slope_n;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc print data=sas.heart_imp;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"where st_slope=""down"" or st_slope=""flat"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
after handling missing values and binning of chestpaintype,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
explaination using logistic regression;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc logistic data=sas.heart_imp plots(only)=(effect oddsratio);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class sex(ref=""f"") chestpaintype_n(ref=""ata"") fastingbs(ref=""0"") restingecg(ref=""st"")",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"exerciseangina(ref=""n"") st_slope_n(ref=""up"")/param=ref;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")= sex chestpaintype_n fastingbs restingecg exerciseangina st_slope_n",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age restingbp cholesterol maxhr oldpeak / details lackfit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out=pred p=phat lower=lcl upper=ucl predprob=(individual crossvalidate);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods output association=association;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
logistic regression (heartdisease),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc surveyselect data=sas.heart_imp rate=0.90 outall out=result seed=2025;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=result;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
table selected;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data traindata testdata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set result;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
if selected=1 then output traindata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
else output testdata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc logistic data=traindata plots=(roc);,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"class sex(ref=""f"") chestpaintype_n(ref=""ata"") fastingbs(ref=""0"") restingecg(ref=""st"") exerciseangina(ref=""n"")",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"st_slope_n(ref=""up"") / param=ref;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"") = sex chestpaintype_n fastingbs restingecg exerciseangina st_slope_n",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age restingbp imp_cholesterol_mice maxhr oldpeak / details lackfit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* score the training dataset */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
score data=traindata out=trainpred;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* score the test dataset */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
score data=testdata out=testpred outroc=roc_logistic;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
roc;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
roccontrast;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* output probabilities */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out=outputdata p=prob_predicted xbeta=linpred;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*train set*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html style=journal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sort data=trainpred;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
by descending i_heartdisease descending f_heartdisease;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=trainpred order=data;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
tables f_heartdisease*i_heartdisease / senspec;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html close;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*test set*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html style=journal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc sort data=testpred;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
by descending i_heartdisease descending f_heartdisease;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=testpred order=data;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
tables f_heartdisease*i_heartdisease / senspec;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html close;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
decision tree (heartdisease),SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc hpsplit data=traindata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
class heartdisease sex chestpaintype_n fastingbs restingecg exerciseangina st_slope_n;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"")=sex chestpaintype_n fastingbs restingecg exerciseangina st_slope_n",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
age restingbp imp_cholesterol_mice maxhr oldpeak;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
prune costcomplexity;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"code file=""c:\00\00-data science\15-sas_project\sas_finalproject\treeoutput.sas"";",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/* save predictions */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
output out=scored;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
quit;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html close;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*train set*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data tree_train_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set traindata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%include ""c:\00\00-data science\15-sas_project\sas_finalproject\treeoutput.sas"";",SAS Files\LiWu_SAS_FinalProject.sas,yes,c:\00\00-data science\15-sas_project\sas_finalproject\treeoutput.sas,No,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html style=journal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data tree_train_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set tree_train_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pred_heartdisease = (p_heartdisease1 >= 0.5); /* convert probability to binary class */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=tree_train_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
tables heartdisease * pred_heartdisease / norow nocol nopercent;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html close;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*test set*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data tree_test_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set testdata;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%include ""c:\00\00-data science\15-sas_project\sas_finalproject\treeoutput.sas"";",SAS Files\LiWu_SAS_FinalProject.sas,yes,c:\00\00-data science\15-sas_project\sas_finalproject\treeoutput.sas,No,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html style=journal;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
data tree_test_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
set tree_test_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
pred_heartdisease = (p_heartdisease1 >= 0.5); /* convert probability to binary class */,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc freq data=tree_test_score;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
tables heartdisease * pred_heartdisease / norow nocol nopercent;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html close;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
/*test set roc curve*/,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods html;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics on;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
proc logistic data=tree_test_score plots=roc;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"model heartdisease(event=""1"") = p_heartdisease1 / nofit;",SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
roc 'decision tree' p_heartdisease1;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
roccontrast;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
run;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
ods graphics off;,SAS Files\LiWu_SAS_FinalProject.sas,,,,,,,,,,,,No,
"%macro make_define(path=,metadata=);",SAS Files\make_define.sas,,,,,make_define,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = define_header,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet=""define_header_metadata"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set define_header;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if upcase(standard) = 'adam' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"call symput('standard','adam');",SAS Files\make_define.sas,,,,,,,,,,,,No,
else if upcase(standard) = 'sdtm' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"call symput('standard','sdtm');",SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put ""err"" ""or: cdisc standard undefined in define_header_metadata"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = toc_metadata,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""toc_metadata"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = variable_metadata,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""variable_metadata"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = codelists,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""codelists"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = compmethod,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""computation_method"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = valuelevel,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""valuelevel_metadata"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = analysisresults,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""analysis_results"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc import,SAS Files\make_define.sas,,,,,,,,,,,,No,
out = externallinks,SAS Files\make_define.sas,,,,,,,,,,,,No,
"datafile = ""&path\&metadata""",SAS Files\make_define.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_define.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"sheet = ""external_links"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%if &standard=adam %then,SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data toc_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length documentation $ 800;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set toc_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
documentation = htmlencode(documentation);,SAS Files\make_define.sas,,,,,,,,,,,,No,
"documentation = tranwrd(documentation, ""'"", '""');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"documentation = tranwrd(trim(documentation), '""', '&quot;');",SAS Files\make_define.sas,,,,,,,,,,,,No,
format documentation $800.;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data variable_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length comment $ 2000;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set variable_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
format comment;,SAS Files\make_define.sas,,,,,,,,,,,,No,
informat comment;,SAS Files\make_define.sas,,,,,,,,,,,,No,
origin = htmlencode(origin);,SAS Files\make_define.sas,,,,,,,,,,,,No,
label = htmlencode(label);,SAS Files\make_define.sas,,,,,,,,,,,,No,
comment = htmlencode(comment);,SAS Files\make_define.sas,,,,,,,,,,,,No,
"if ""&standard"" = ""adam"" and origin ne '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""source: "" || left(trim(origin)) ||",SAS Files\make_define.sas,,,,,,,,,,,,No,
""" derivation: "" || left(trim(comment));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"else if ""&standard"" = ""adam"" and origin ne '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment = '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""source: "" || left(trim(origin));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"if ""&standard"" = ""adam"" and origin = '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""derivation: "" || left(trim(comment));",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data codelists;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set codelists;,SAS Files\make_define.sas,,,,,,,,,,,,No,
codedvalue = htmlencode(codedvalue);,SAS Files\make_define.sas,,,,,,,,,,,,No,
translated = htmlencode(translated);,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data compmethod;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set compmethod;,SAS Files\make_define.sas,,,,,,,,,,,,No,
computationmethod = htmlencode(computationmethod);,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length comment $ 2000;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
format comment;,SAS Files\make_define.sas,,,,,,,,,,,,No,
informat comment;,SAS Files\make_define.sas,,,,,,,,,,,,No,
origin = htmlencode(origin);,SAS Files\make_define.sas,,,,,,,,,,,,No,
label = htmlencode(label);,SAS Files\make_define.sas,,,,,,,,,,,,No,
comment = htmlencode(comment);,SAS Files\make_define.sas,,,,,,,,,,,,No,
"if ""&standard"" = ""adam"" and origin ne '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""source: "" || left(trim(origin)) ||",SAS Files\make_define.sas,,,,,,,,,,,,No,
""" derivation: "" || left(trim(comment));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"else if ""&standard"" = ""adam"" and origin ne '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment = '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""source: "" || left(trim(origin));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"if ""&standard"" = ""adam"" and origin = '' and",SAS Files\make_define.sas,,,,,,,,,,,,No,
comment ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"comment = ""derivation: "" || left(trim(comment));",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length programmingcode $800. docleafid $40.;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
where displayid ne '';,SAS Files\make_define.sas,,,,,,,,,,,,No,
arrow + 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
selectioncriteria = htmlencode(selectioncriteria);,SAS Files\make_define.sas,,,,,,,,,,,,No,
paramlist = htmlencode(paramlist);,SAS Files\make_define.sas,,,,,,,,,,,,No,
reason = htmlencode(reason);,SAS Files\make_define.sas,,,,,,,,,,,,No,
documentation = htmlencode(documentation);,SAS Files\make_define.sas,,,,,,,,,,,,No,
"if index(documentation, '[r]')>0 then",SAS Files\make_define.sas,,,,,,,,,,,,No,
"docleafid = substr(documentation, index(documentation,'[r]')+3, index(documentation,'[\r]')-index(documentation,'[r]')-3);",SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
docleafid = '.';,SAS Files\make_define.sas,,,,,,,,,,,,No,
programmingcode = htmlencode(programmingcode);,SAS Files\make_define.sas,,,,,,,,,,,,No,
"programmingcode = tranwrd(programmingcode, ""'"", '""');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"programmingcode = tranwrd(programmingcode, '""', '&quot;');",SAS Files\make_define.sas,,,,,,,,,,,,No,
format programmingcode $800.;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by displayid notsorted;,SAS Files\make_define.sas,,,,,,,,,,,,No,
drop resultnum;,SAS Files\make_define.sas,,,,,,,,,,,,No,
retain resultnum;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if first.displayid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
resultnum = 0;,SAS Files\make_define.sas,,,,,,,,,,,,No,
resultnum + 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if not(first.displayid and last.displayid) then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"arid = trim(displayid) || "".r."" || put(resultnum,z2.);",SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
arid = displayid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data = analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by docleafid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data = externallinks (keep = leafid title rename=(leafid=docleafid title=doctitle)),SAS Files\make_define.sas,,,,,,,,,,,,No,
out  = doc_links;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by docleafid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
merge analysisresults (in = inar) doc_links (in = indoc_links);,SAS Files\make_define.sas,,,,,,,"analysisresults, (in, =, inar), doc_links, (in, =, indoc_links)",,,,,No,
by docleafid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if inar;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if indoc_links then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"documentation = tranwrd(documentation, '[r]' || trim(docleafid) || '[\r]', "" "");",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data = analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by arrow;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename dheader ""&path\define_header.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data define_header;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set define_header;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file dheader notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"creationdate = compress(put(datetime(), is8601dt.));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @1 '<?xml version=""1.0"" encoding=""iso-8859-1"" ?>' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@1 '<?xml-stylesheet type=""text/xsl"" href=""' stylesheet +(-1) '""?>' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '<!-- ******************************************************************************* -->' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '<!-- file: define.xml                                                                -->' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@1 ""<!-- date: &sysdate9.                                                                -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '<!-- description: define.xml file for '   studyname +(-1) '                          -->' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '<!-- ******************************************************************************* -->' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '<odm' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xmlns=""http://www.cdisc.org/ns/odm/v1.2""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xmlns:xsi=""http://www.w3.org/2001/xmlschema-instance""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xmlns:xlink=""http://www.w3.org/1999/xlink""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xmlns:def=""http://www.cdisc.org/ns/def/v1.0""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xmlns:adamref=""http://www.cdisc.org/ns/adamres/draft""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'xsi:schemalocation=""' schemalocation +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'fileoid=""' fileoid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'odmversion=""1.2""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'filetype=""snapshot""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 'creationdatetime=""' creationdate +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@1 '<study oid=""' studyoid +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@3 '<globalvariables>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '<studyname>' studyname +(-1) '</studyname>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '<studydescription>' studydescription +(-1) '</studydescription>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '<protocolname>' protocolname +(-1) '</protocolname>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@3 '</globalvariables>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@3 '<metadataversion oid=""cdisc.' standard +(-1) '.' version +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 'name=""' studyname +(-1) ',data definitions""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 'description=""' studyname +(-1) ',data definitions""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 'def:defineversion=""1.0.0""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 'def:standardname=""cdisc ' standard +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 'def:standardversion=""' version +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '<def:supplementaldoc>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 '<def:documentref leafid=""suppdoc""/>' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</def:supplementaldoc>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 '<def:leaf id=""suppdoc"" xlink:href=""dataguide.pdf"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@7 '<def:title>data guide</def:title>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%else %if ""&standard"" = ""sdtm"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '<def:annotatedcrf>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 '<def:documentref leafid=""blankcrf""/>' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</def:annotatedcrf>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 '<def:leaf id=""blankcrf"" xlink:href=""blankcrf.pdf"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@7 '<def:title>annotated case report form</def:title>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</def:leaf>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename leaves ""&path\leaves.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set externallinks;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file leaves notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<def:leaf id=""' leafid +(-1) '""'     /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'xlink:href=""' leafrelpath +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@7 '<def:title>' title '</def:title>'    /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</def:leaf>',SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data variable_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set variable_metadata(rename=(domain = oid));,SAS Files\make_define.sas,,,,,,,,,,,,No,
length itemoid $ 40;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"if variable in (""studyid"",""domain"",""usubjid"",""subjid"") then",SAS Files\make_define.sas,,,,,,,,,,,,No,
itemoid = variable;,SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
"itemoid = compress(oid || ""."" || variable);",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length itemoid $ 200;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"itemoid = compress(valuelistoid || ""."" || valuename);",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename comp ""&path\compmethod.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data compmethods;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set compmethod;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file comp notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ******************************************* -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- computational method information        *** -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ******************************************* -->"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<def:computationmethod oid=""' computationmethodoid +(-1) '"">' computationmethod +(-1) '</def:computationmethod>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data=valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
where valuelistoid ne '';,SAS Files\make_define.sas,,,,,,,,,,,,No,
by valuelistoid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename vallist ""&path\valuelist.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set valuelevel;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by valuelistoid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file vallist notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ******************************************* -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- value level list definition information  ** -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ******************************************* -->"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
if first.valuelistoid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<def:valuelistdef oid=""' valuelistoid +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<itemref itemoid=""' itemoid /*valuename*/ +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'mandatory=""' mandatory +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if last.valuelistoid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '</def:valuelistdef>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data=variable_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
where oid ne '';,SAS Files\make_define.sas,,,,,,,,,,,,No,
by oid varnum;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data=toc_metadata;,SAS Files\make_define.sas,,,,,,,,,,,,No,
where oid ne '';,SAS Files\make_define.sas,,,,,,,,,,,,No,
by oid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename igdef ""&path\itemgroupdef.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data itemgroupdef;,SAS Files\make_define.sas,,,,,,,,,,,,No,
length label $ 40;,SAS Files\make_define.sas,,,,,,,,,,,,No,
merge toc_metadata variable_metadata(drop=label);,SAS Files\make_define.sas,,,,,,,"toc_metadata, variable_metadata(drop=label)",,,,,No,
by oid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file igdef notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if first.oid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ******************************************* -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- "" oid   @25   ""itemgroupdef information *** -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ******************************************* -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 '<itemgroupdef oid=""' oid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'name=""' name +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'repeating=""' repeating +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'purpose=""' purpose +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'isreferencedata=""' isreferencedata +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:label=""' label +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:structure=""' structure +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:domainkeys=""' domainkeys +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:class=""' class +(-1) '""' ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
%if &standard=adam %then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:archivelocationid=""location.' archivelocationid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'comment=""' documentation +(-1) '"">'",SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%else,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:archivelocationid=""location.' archivelocationid +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<itemref itemoid=""' itemoid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'ordernumber=""' varnum +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'mandatory=""' mandatory +(-1) @;",SAS Files\make_define.sas,,,,,,,,,,,,No,
"if role ne '' and ""&standard"" = ""sdtm"" then",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'role=""' role +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'rolecodelistoid=""codelist.' rolecodelist +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if last.oid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 ""<!-- **************************************************** -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 ""<!-- def:leaf details for hypertext linking the dataset   -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 ""<!-- **************************************************** -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 '<def:leaf id=""location.' oid +(-1) '"" xlink:href=""' archivelocationid +(-1) '.xpt"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '<def:title>' archivelocationid +(-1) '.xpt </def:title>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@7 '</def:leaf>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</itemgroupdef>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename idef ""&path\itemdef.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data itemdef;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set variable_metadata end=eof;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by oid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file idef notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ************************************************************ -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- the details of each variable is here for all domains         -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ************************************************************ -->"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<itemdef oid=""' itemoid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'name=""' variable +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'datatype=""' type +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'length=""' length +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if significantdigits ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'significantdigitis=""' significantdigits +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if displayformat ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:displayformat=""' displayformat +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if computationmethodoid ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:computationmethodoid=""' computationmethodoid +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put %if ""&standard"" = ""sdtm"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'origin=""' origin +(-1) '""' / ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'comment=""' comment +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:label=""' label +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if codelistname ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<codelistref codelistoid=""codelist.' codelistname +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if valuelistoid ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<def:valuelistref valuelistoid=""' valuelistoid +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '</itemdef>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename idefvl ""&path\itemdef_value.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data itemdefvalue;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set valuelevel end=eof;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by valuelistoid;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file idefvl notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ************************************************************ -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- the details of value level items are here                    -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ************************************************************ -->"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<itemdef oid=""' itemoid /*valuename*/ +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'name=""' valuename +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'datatype=""' type +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'length=""' length +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if significantdigits ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'significantdigitis=""' significantdigits +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if displayformat ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:displayformat=""' displayformat +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if computationmethodoid ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 'def:computationmethodoid=""' computationmethodoid +(-1) '""';",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put %if ""&standard"" = ""sdtm"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'origin=""' origin +(-1) '""' / ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'comment=""' comment +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'def:label=""' label +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if codelistname ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<codelistref codelistoid=""codelist.' codelistname +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '</itemdef>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%if ""&standard"" = ""adam"" %then",SAS Files\make_define.sas,,,,,,,,,,,,No,
%do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename ar ""&path\analysisresults.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set analysisresults;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by displayid notsorted;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file ar notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ************************************************************ -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- analysis results metadata are presented below                -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ************************************************************ -->""",SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if first.displayid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '<adamref:analysisresultdisplays>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 '<adamref:resultdisplay displayidentifier=""' displayid +(-1)",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'"" oid=""' displayid +(-1) '"" displaylabel=""' displayname +(-1)",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'"" leafid=""' displayid +(-1) '"">'  ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
put @9 '<adamref:analysisresults ' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'oid=""' arid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'resultidentifier=""' resultid +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 'reason=""' reason +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '<!-- list the parameters and parameter codes -->' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '<adamref:parameterlist>',SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set = 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"do while(scan(paramlist,set,'|') ne '');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"paramset = scan(paramlist,set,'|');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"paramcd  = scan(paramset,1,'/\');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"param    = trim(scan(paramset,2,'/\'));",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @11 '<adamref:parameter paramcd=""' paramcd +(-1)",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'"" param=""' param +(-1) '""/>' ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
set = set + 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @9 '</adamref:parameterlist>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
set = 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"do while(scan(analysisvariables,set,',') ne '');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"analysisvar = scan(analysisvariables,set,',');",SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @11 '<adamref:analysisvariable itemoid=""' analysisdataset +(-1)",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'.' analysisvar +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
set = set + 1;,SAS Files\make_define.sas,,,,,,,,,,,,No,
end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @9 '<!-- analysisdatasets are  pairs of dataset references and selection criteria. dataset references are itemgrouprefs.  the label in the xsl is the def:label for the itemgroup -->';,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @9 '<adamref:analysisdataset>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@11  '<itemgroupref itemgroupoid=""' analysisdataset +(-1) '"" mandatory=""no""/>' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@11  '<adamref:selectioncriteria>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
/* just use the row number of the data set as the unique number for the selection criteria */,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@13    '<def:computationmethod oid=""sc' _n_ z3.",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'"" name=""selection criteria ' _n_ z3. '""> [' selectioncriteria ' ]</def:computationmethod> '/",SAS Files\make_define.sas,,,,,,,,,,,,No,
@11  '</adamref:selectioncriteria> ' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '</adamref:analysisdataset> ' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9 '<adamref:documentation leafid=""' docleafid +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@11  '<translatedtext xml:lang=""en"">' documentation  /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@11  '</translatedtext>'        /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9  '</adamref:documentation>'  /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9  '<adamref:programmingcode>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
"@9  '<def:computationmethod oid=""'  displayid +(-1) '"">' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
@1  programmingcode /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '</def:computationmethod>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9 '</adamref:programmingcode>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@7 '</adamref:analysisresults>' ;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if last.displayid then,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '</adamref:resultdisplay>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@5 '</adamref:analysisresultdisplays>',SAS Files\make_define.sas,,,,,,,,,,,,No,
;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"filename codes ""&path\codelist.txt"";",SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data=codelists,SAS Files\make_define.sas,,,,,,,,,,,,No,
nodupkey;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by codelistname codedvalue translated;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set codelists;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by codelistname codedvalue;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if not (first.codedvalue and last.codedvalue) then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put ""err"" ""or: multiple versions of the same coded value """,SAS Files\make_define.sas,,,,,,,,,,,,No,
codelistname= codedvalue=;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_define.sas,,,,,,,,,,,,No,
data=codelists;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by codelistname rank;,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
data codelists;,SAS Files\make_define.sas,,,,,,,,,,,,No,
set codelists end=eof;,SAS Files\make_define.sas,,,,,,,,,,,,No,
by codelistname rank;,SAS Files\make_define.sas,,,,,,,,,,,,No,
file codes notitles;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if _n_ = 1 then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 ""<!-- ************************************************************ -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- codelists are presented below                                -->"" /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@5 ""<!-- ************************************************************ -->"" ;",SAS Files\make_define.sas,,,,,,,,,,,,No,
if first.codelistname then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @5 '<codelist oid=""codelist.' codelistname +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'name=""' codelistname +(-1) '""' /",SAS Files\make_define.sas,,,,,,,,,,,,No,
"@7 'datatype=""' type +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if codelistdictionary = '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
do;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7  '<codelistitem codedvalue=""' codedvalue +(-1) '""' @;",SAS Files\make_define.sas,,,,,,,,,,,,No,
if rank ne . then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put ' def:rank=""' rank +(-1) '"">';",SAS Files\make_define.sas,,,,,,,,,,,,No,
else,SAS Files\make_define.sas,,,,,,,,,,,,No,
put '>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @9  '<decode>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@11 '<translatedtext>' translated +(-1) '</translatedtext>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@9  '</decode>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@7  '</codelistitem>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
end;,SAS Files\make_define.sas,,,,,,,,,,,,No,
if codelistdictionary ne '' then,SAS Files\make_define.sas,,,,,,,,,,,,No,
"put @7 '<externalcodelist dictionary=""' codelistdictionary +(-1)",SAS Files\make_define.sas,,,,,,,,,,,,No,
"'"" version=""' codelistversion +(-1) '""/>';",SAS Files\make_define.sas,,,,,,,,,,,,No,
if last.codelistname then,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @5 '</codelist>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
if eof then,SAS Files\make_define.sas,,,,,,,,,,,,No,
put @3 '</metadataversion>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '</study>' /,SAS Files\make_define.sas,,,,,,,,,,,,No,
@1 '</odm>';,SAS Files\make_define.sas,,,,,,,,,,,,No,
run;,SAS Files\make_define.sas,,,,,,,,,,,,No,
%mend make_define;,SAS Files\make_define.sas,,,,,,,,,,,,No,
"%make_define(path=/folders/myfolders/define/sdtm/,metadata=sdtm_metadata.xlsx);",SAS Files\make_define.sas,,,,,,make_define,,,,,,No,
"%make_define(path=/folders/myfolders/define/adam/,metadata=adam_metadata.xlsx);",SAS Files\make_define.sas,,,,,,make_define,,,,,,No,
"%macro make_empty_dataset(metadatafile=,dataset=);",SAS Files\make_empty_dataset.sas,,,,,make_empty_dataset,,,,,,,No,
proc import,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"datafile=""&metadatafile""",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
out=_temp,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"sheet=""variable_metadata"";",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
run;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
proc sort,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
data=_temp;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"where domain = ""&dataset"";",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
by varnum;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
run;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%global &dataset.keepstring;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
set _temp nobs=nobs end=eof;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
if _n_=1 then,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symput(""vars"", compress(put(nobs,3.)));",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx('var'    || compress(put(_n_, 3.)), variable);",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx('label'  || compress(put(_n_, 3.)), label);",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx('length' || compress(put(_n_, 3.)), put(length, 3.));",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"if upcase(type) in (""integer"", ""float"") then",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx('type' || compress(put(_n_, 3.)), """");",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"else if upcase(type) in (""text"", ""date"", ""datetime"",",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"""date"", ""time"") then",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx('type' || compress(put(_n_, 3.)), ""$"");",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
else,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"put ""err"" ""or: not using a valid odm type.  "" type=;",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
length keepstring $ 32767;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
retain keepstring;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"keepstring = compress(keepstring) || ""|"" || left(variable);",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
if eof then,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"call symputx(upcase(compress(""&dataset"" || 'keepstring')),",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"left(trim(translate(keepstring,"" "",""|""))));",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
run;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
data empty_&dataset;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%do i=1 %to &vars;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"attrib &&var&i label=""&&label&i"" length=&&type&i.&&length&i...;",SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%if &&type&i=$ %then,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
retain &&var&i '';,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%else,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
retain &&var&i .;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%end;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
if 0;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
run;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
%mend make_empty_dataset;,SAS Files\make_empty_dataset.sas,,,,,,,,,,,,No,
"%macro make_sdtm_dy(refdate=,date=);",SAS Files\make_sdtm_dy2.sas,,,,,make_sdtm_dy,,,,,,,No,
if length(&date) >= 10 and length(&refdate) >= 10 then,SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
do;,SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
"if input(&date,yymmdd10.) >=",SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
"input(&refdate,yymmdd10.) then",SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
"%upcase(%substr(&date,1,%length(&date)-3))dy = input(&date,yymmdd10.)- input(&refdate,yymmdd10.)+ 1;",SAS Files\make_sdtm_dy2.sas,,,,,,upcase,,,,,,No,
else,SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
"%upcase(%substr(&date,1,%length(&date)-3))dy = input(&date,yymmdd10.)- input(&refdate,yymmdd10.);",SAS Files\make_sdtm_dy2.sas,,,,,,upcase,,,,,,No,
end;,SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
%mend make_sdtm_dy;,SAS Files\make_sdtm_dy2.sas,,,,,,,,,,,,No,
"%macro make_sort_order(metadatafile=,dataset=);",SAS Files\make_sort_order.sas,,,,,make_sort_order,,,,,,,No,
proc import,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"datafile=""&metadatafile""",SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
out=_temp,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
dbms=xlsx,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
replace;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"sheet=""toc_metadata"";",SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
run;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
%global &dataset.sortstring;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
set _temp;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"where name = ""&dataset"";",SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"call symputx(compress(""&dataset"" || ""sortstring""),",SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"translate(domainkeys,"" "","",""));",SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
run;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
%mend make_sort_order;,SAS Files\make_sort_order.sas,,,,,,,,,,,,No,
"%macro mergsupp(sourcelib=library, outlib=work, domains= , suppqual=0);",SAS Files\mergsupp.sas,,,,,mergsupp,,,,,,,No,
%local domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%** de-normalize suppqual and merge into the given domain;,SAS Files\mergsupp.sas,,,,,,,"into, the, given, domain",,,,,No,
"%macro domainx(domain= ,suppqual=0);",SAS Files\mergsupp.sas,,,,,domainx,,,,,,,No,
%local suppdata idvar varlist nvars;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%if &suppqual %then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%let suppdata=suppqual;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%let suppdata=supp&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%* count the number of supplemental qualifiers for the given domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data = &sourcelib..&suppdata,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
out = nvars,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
nodupkey;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"where rdomain=upcase(""&domain"");",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by qnam idvar;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data _null_;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
set nvars end=eof;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by qnam idvar;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
length varlist $200;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
retain varlist;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if not first.qnam then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
put 'prob' 'lem: more than one idvar for the domain-- ',SAS Files\mergsupp.sas,,,,,,,,,,,,No,
rdomain= qnam=,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
idvar= ;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
do;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
nvars + 1;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"varlist = trim(varlist) || "" "" || trim(qnam);",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if eof then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
do;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"call symput(""nvars"", put(nvars, 2.));",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"call symput(""varlist"", trim(left(varlist)));",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"call symput(""idvar"", trim(idvar));",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%put domain=&domain idvar=&idvar nvars=&nvars varlist=&varlist;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data = &sourcelib..&suppdata,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
out = supp&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"where rdomain=upcase(""&domain"");",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by usubjid idvar idvarval;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%*  determine whether idvar in the parent domain is character or numeric;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%if &idvar^= %then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%do;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%let dsetnum=%sysfunc(open(&sourcelib..&domain));,SAS Files\mergsupp.sas,,,,,,sysfunc,,,,,,No,
"%let varnum=%sysfunc(varnum(&dsetnum,&idvar));",SAS Files\mergsupp.sas,,,,,,sysfunc,,,,,,No,
"%let idtype=%sysfunc(vartype(&dsetnum,&varnum));",SAS Files\mergsupp.sas,,,,,,sysfunc,,,,,,No,
%let rc=%sysfunc(close(&dsetnum));,SAS Files\mergsupp.sas,,,,,,sysfunc,,,,,,No,
%end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%let idtype= ;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data supp&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
set supp&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by usubjid idvar idvarval;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
drop q: idvarval idvar i rdomain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
length &varlist $200.;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
retain &varlist;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
array vars{*} &varlist;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if first.idvarval then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
do i = 1 to dim(vars);,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
vars{i} = '';,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
do i = 1 to dim(vars);,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if upcase(qnam)=upcase(vname(vars{i})) then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
vars{i} = qval;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%** convert to numeric if numeric in the parent domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%if &idvar^= and &idtype=n %then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"&idvar = input(idvarval, best.);",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%else %if &idvar^= %then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
&idvar = idvarval;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if last.idvarval;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data = supp&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by usubjid &idvar;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data = &sourcelib..&domain,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
out = __tmp;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
by usubjid &idvar;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data &outlib..&domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
merge __tmp supp&domain ;,SAS Files\mergsupp.sas,,,,,,,"__tmp, supp&domain",,,,,No,
by usubjid &idvar;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%mend domainx;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%*-------------------------------------------------------;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"%* if domains parameter specified, then loop through those",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%* domains;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"%* otherwise, dynamically identify the suppxx data sets and",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%* go through them all;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%*-------------------------------------------------------;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%let _wrd=1;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%if &domains^= %then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"%do %while(%scan(&domains,&_wrd)^= );",SAS Files\mergsupp.sas,,,,,,while,,,,,,No,
"%let domain=%scan(&domains,&_wrd);",SAS Files\mergsupp.sas,,,,,,scan,,,,,,No,
"%domainx(domain=&domain,suppqual=0);",SAS Files\mergsupp.sas,,,,,,domainx,,,,,,No,
%let _wrd=%eval(&_wrd+1);,SAS Files\mergsupp.sas,,,,,,eval,,,,,,No,
%end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%do;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%** find all of the suppxx datasets and loop through each one;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
ods output members=members;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc contents,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data = &sourcelib.._all_ memtype=data nods ;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
data members;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
set members;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
if upcase(name)=:'supp' and upcase(name)^=:'suppqual' then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
do;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"rdomain = substr(name,5,2);",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
put name= rdomain= ;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
output;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
else if upcase(name)=:'suppqual' then,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"call symput(""suppqual"",""1"");",SAS Files\mergsupp.sas,,,,,,,,,,,,No,
run;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%** loop through each domain;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
proc sql noprint;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
select count(distinct rdomain),SAS Files\mergsupp.sas,,,,,,,,,,,,No,
into :domn,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
from %if &suppqual %then &sourcelib..suppqual; %else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
members;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
select distinct rdomain,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
into :domain1 - :domain%left(&domn),SAS Files\mergsupp.sas,,,,,,left,,,,,,No,
from %if &suppqual %then &sourcelib..suppqual; %else,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
members;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%do _i=1 %to &domn;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
"%domainx(domain=&&domain&_i,suppqual=&suppqual);",SAS Files\mergsupp.sas,,,,,,domainx,,,,,,No,
%end;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%end; %* if domains not specified explicitly...;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%mend mergsupp;,SAS Files\mergsupp.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\pn.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\pn.sas,,,,,,,,,,,,No,
"filename pn ""/folders/myfolders/test1/pn.dat"";",SAS Files\pn.sas,,,,,,,,,,,,No,
data source.pain;,SAS Files\pn.sas,,,,,,,,pain,,,source.pain,Yes,Yes
"label subject  = ""subject number""",SAS Files\pn.sas,,,,,,,,,,,,No,
"randomizedt = ""baseline visit date""",SAS Files\pn.sas,,,,,,,,,,,,No,
"month3dt    = ""month 3 visit date""",SAS Files\pn.sas,,,,,,,,,,,,No,
"month6dt    = ""month 6 visit date""",SAS Files\pn.sas,,,,,,,,,,,,No,
"painbase    = ""pain score at baseline: 0=none, 1=mild, 2=moderate, 3=severe""",SAS Files\pn.sas,,,,,,,,,,,,No,
"pain3mo     = ""pain score at 3 months: 0=none, 1=mild, 2=moderate, 3=severe""",SAS Files\pn.sas,,,,,,,,,,,,No,
"pain6mo     = ""pain score at 6 months: 0=none, 1=mild, 2=moderate, 3=severe""",SAS Files\pn.sas,,,,,,,,,,,,No,
"uniqueid = ""company wide subject id"";",SAS Files\pn.sas,,,,,,,,,,,,No,
infile pn;,SAS Files\pn.sas,,,,,,,,,,,,No,
input subject randomizedt mmddyy10. +1 month3dt mmddyy10. +1 month6dt mmddyy10. painbase pain3mo pain6mo;,SAS Files\pn.sas,,,,,,,,,,,,No,
"uniqueid = 'uni' || put(subject,3.);",SAS Files\pn.sas,,,,,,,,,,,,No,
format randomizedt month3dt month6dt mmddyy10.;,SAS Files\pn.sas,,,,,,,,,,,,No,
run;,SAS Files\pn.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\sdtm_ae.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sdtm_dy2.sas';,SAS Files\sdtm_ae.sas,yes,/folders/myfolders/test1/make_sdtm_dy2.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sort_order.sas';,SAS Files\sdtm_ae.sas,yes,/folders/myfolders/test1/make_sort_order.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_empty_dataset.sas';,SAS Files\sdtm_ae.sas,yes,/folders/myfolders/test1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=ae);",SAS Files\sdtm_ae.sas,,,,,,make_empty_dataset,,,,,,No,
%put &aekeepstring;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
options missing = ' ';,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
set empty_ae,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
source.adverse;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
studyid = 'xyz123';,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
domain = 'ae';,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data=ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
merge ae(in=inae) target.dm(keep=usubjid rfstdtc);,SAS Files\sdtm_ae.sas,,,,,,,"ae(in=inae), target.dm(keep=usubjid, rfstdtc)",,,,,No,
by usubjid;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
if inae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=aestdtc);",SAS Files\sdtm_ae.sas,,,,,,make_sdtm_dy,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=aeendtc);",SAS Files\sdtm_ae.sas,,,,,,make_sdtm_dy,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data=ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
by studyid usubjid aedecod aestdtc aeendtc;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
retain studyid domain usubjid aeseq aeterm aedecod aebodsys aesev aeser aeacn aerel aestdtc,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
aeendtc aestdy aeendy;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
set ae(drop=aeseq);,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
by studyid usubjid aedecod aestdtc aeendtc;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
if not (first.aeendtc and last.aeendtc) then,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
"put ""warn"" ""ing: key variables do not define an unique record. "" usubjid=;",SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
retain aeseq;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
if first.usubjid then,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
aeseq = 1;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
else,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
aeseq = aeseq + 1;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
"label aeseq = ""sequence number"";",SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=ae);",SAS Files\sdtm_ae.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
data=ae(keep = &aekeepstring),SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
out=target.ae;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
by &aesortstring;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ae.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\sdtm_dm.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_empty_dataset.sas';,SAS Files\sdtm_dm.sas,yes,/folders/myfolders/test1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=dm);",SAS Files\sdtm_dm.sas,,,,,,make_empty_dataset,,,,,,No,
proc sort,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data=source.dosing(keep=subject startdt enddt),SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
out=dosing;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by subject startdt;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data dosing;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
set dosing;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by subject;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
format firstdose lastdose mmddyy10.;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
retain firstdose lastdose;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
if first.subject then,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
do;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
firstdose = .;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
lastdose = .;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
end;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"firstdose = min(firstdose,startdt,enddt);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"lastdose = max(lastdose,startdt,enddt);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
drop startdt enddt;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
if last.subject;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data=source.demographic,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
out=demographic;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by subject;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data demog_dose;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
merge demographic,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
dosing;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by subject;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data dm;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
set empty_dm,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
demog_dose;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
studyid = 'xyz123';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
domain = 'dm';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"subjid = put(subject,3.);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"rfstdtc = put(firstdose,yymmdd10.);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"rfendtc = put(lastdose,yymmdd10.);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"siteid = substr(subjid,1,1) || ""00"";",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"brthdtc = put(dob,yymmdd10.);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"age = floor ((intck('month',dob,firstdose) -",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
(day(firstdose) < day(dob))) / 12);,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
if age ne . then,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
ageu = 'years';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"country = ""usa"";",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
sex=gender;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
arm=trt1;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"armcd=put(trt,3.);",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
drop gender trt trt1;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sort_order.sas';,SAS Files\sdtm_dm.sas,yes,/folders/myfolders/test1/make_sort_order.sas,Yes,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=dm);",SAS Files\sdtm_dm.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data=dm(keep = &dmkeepstring),SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
out=target.dm;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by &dmsortstring;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=suppdm);",SAS Files\sdtm_dm.sas,,,,,,make_empty_dataset,,,,,,No,
data suppdm;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
set empty_suppdm,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
dm;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
keep &suppdmkeepstring;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
if orace ne '' then,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
do;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
rdomain = 'dm';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qnam = 'raceoth';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"qlabel = 'race, other';",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qval = left(orace);,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qorig = 'crf';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
output;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
end;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
if randdt ne . then,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
do;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
rdomain = 'dm';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qnam = 'randdtc';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qlabel = 'randomization date';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"qval = left(put(randdt,yymmdd10.));",SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
qorig = 'crf';,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
output;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
end;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=suppdm);",SAS Files\sdtm_dm.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
data=suppdm,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
out=target.suppdm;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
by &suppdmsortstring;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_dm.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\sdtm_ex.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_empty_dataset.sas';,SAS Files\sdtm_ex.sas,yes,/folders/myfolders/test1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=ex);",SAS Files\sdtm_ex.sas,,,,,,make_empty_dataset,,,,,,No,
%include '/folders/myfolders/test1/make_sdtm_dy2.sas';,SAS Files\sdtm_ex.sas,yes,/folders/myfolders/test1/make_sdtm_dy2.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sort_order.sas';,SAS Files\sdtm_ex.sas,yes,/folders/myfolders/test1/make_sort_order.sas,Yes,,,,,,,,,No,
data ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
set empty_ex,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
source.dosing;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
studyid = 'xyz123';,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
domain = 'ex';,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exdose = dailydose;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exdostot = dailydose;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exdosu = 'mg';,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"exdosfrm = 'tablet, coated';",SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"exstdtc=put(startdt,yymmdd10.);",SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"exendtc=put(enddt,yymmdd10.);",SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
data=ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
data ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
merge ex(in=inex) target.dm(keep=usubjid rfstdtc arm);,SAS Files\sdtm_ex.sas,,,,,,,"ex(in=inex), target.dm(keep=usubjid, rfstdtc, arm)",,,,,No,
by usubjid;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
if inex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=exstdtc);",SAS Files\sdtm_ex.sas,,,,,,make_sdtm_dy,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=exendtc);",SAS Files\sdtm_ex.sas,,,,,,make_sdtm_dy,,,,,,No,
extrt = arm;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
data=ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
by studyid usubjid extrt exstdtc;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
options missing = ' ';,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
data ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
retain studyid domain usubjid exseq extrt exdose exdosu exdosfrm exdostot,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exstdtc exendtc exstdy exendy;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
set ex(drop=exseq);,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
by studyid usubjid extrt exstdtc;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
if not (first.exstdtc and last.exstdtc) then,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"put ""warn"" ""ing: key variables do not define an unique record. "" usubjid=;",SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
retain exseq;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
if first.usubjid then,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exseq = 1;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
else,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
exseq = exseq + 1;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"label exseq = ""sequence number"";",SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=ex);",SAS Files\sdtm_ex.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
data=ex(keep = &exkeepstring),SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
out=target.ex;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
by &exsortstring;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_ex.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\sdtm_lb.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_empty_dataset.sas';,SAS Files\sdtm_lb.sas,yes,/folders/myfolders/test1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=lb);",SAS Files\sdtm_lb.sas,,,,,,make_empty_dataset,,,,,,No,
%include '/folders/myfolders/test1/make_sdtm_dy2.sas';,SAS Files\sdtm_lb.sas,yes,/folders/myfolders/test1/make_sdtm_dy2.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sort_order.sas';,SAS Files\sdtm_lb.sas,yes,/folders/myfolders/test1/make_sort_order.sas,Yes,,,,,,,,,No,
proc format;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
value visit_labs_month,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
0=baseline,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
1=3 months,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
2=6 months;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
set empty_lb,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
source.labs;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
studyid = 'xyz123';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
domain = 'lb';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"lborres = left(put(nresult,best.));",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lborresu = left(colunits);,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"lbornrlo = left(put(lownorm,best.));",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"lbornrhi = left(put(highnorm,best.));",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbcat = labcat;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbtest = labtest;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbtestcd = labtest;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstresc = lborres;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstresn = nresult;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstresu = lborresu;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstnrlo = lownorm;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstnrhi = highnorm;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
if lbstnrlo ne . and lbstresn ne . and,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"round(lbstresn,.0000001) < round(lbstnrlo,.0000001) then",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbnrind = 'low';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
else if lbstnrhi ne . and lbstresn ne . and,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"round(lbstresn,.0000001) > round(lbstnrhi,.0000001) then",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbnrind = 'high';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
else if lbstnrhi ne . and lbstresn ne . then,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbnrind = 'normal';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
visitnum = month;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"visit = put(month,visit_labs_month.);",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
if visit = 'baseline' then,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbblfl = 'y';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
else,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbblfl = ' ';,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"lbdtc = put(labdate,yymmdd10.);",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data=lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
merge lb(in=inlb) target.dm(keep=usubjid rfstdtc);,SAS Files\sdtm_lb.sas,,,,,,,"lb(in=inlb), target.dm(keep=usubjid, rfstdtc)",,,,,No,
by usubjid;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
if inlb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=lbdtc)",SAS Files\sdtm_lb.sas,,,,,,make_sdtm_dy,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data=lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
by studyid usubjid lbtestcd visitnum;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
retain studyid domain usubjid lbseq lbtestcd lbtest lbcat lborres lborresu lbornrlo lbornrhi,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbstresc lbstresn lbstresu lbstnrlo lbstnrhi lbnrind lbblfl visitnum visit lbdtc lbdy;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
set lb(drop=lbseq);,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
by studyid usubjid lbtestcd visitnum;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
if not (first.visitnum and last.visitnum) then,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"put ""warn"" ""ing: key variables do not define an unique record. "" usubjid=;",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
retain lbseq;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
if first.usubjid then,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbseq = 1;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
else,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
lbseq = lbseq + 1;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"label lbseq = ""sequence number"";",SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=lb);",SAS Files\sdtm_lb.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
data=lb(keep = &lbkeepstring),SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
out=target.lb;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
by &lbsortstring;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_lb.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/common.sas';,SAS Files\sdtm_xp.sas,yes,/folders/myfolders/test1/common.sas,No,,,,,,,,,No,
%common;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sdtm_dy2.sas';,SAS Files\sdtm_xp.sas,yes,/folders/myfolders/test1/make_sdtm_dy2.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_sort_order.sas';,SAS Files\sdtm_xp.sas,yes,/folders/myfolders/test1/make_sort_order.sas,Yes,,,,,,,,,No,
%include '/folders/myfolders/test1/make_empty_dataset.sas';,SAS Files\sdtm_xp.sas,yes,/folders/myfolders/test1/make_empty_dataset.sas,Yes,,,,,,,,,No,
"%make_empty_dataset(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=xp);",SAS Files\sdtm_xp.sas,,,,,,make_empty_dataset,,,,,,No,
proc format;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
value pain,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
0='none',SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
1='mild',SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
2='moderate',SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
3='severe';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
value visit_labs_month,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
0='baseline visit',SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
1='month 3 visit',SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
2='month 6 visit';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
set empty_xp source.pain;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
studyid = 'xyz123';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
domain = 'xp';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
usubjid = left(uniqueid);,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xptest = 'pain score';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xptestcd = 'xppain';,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
array dates {3} randomizedt month3dt month6dt;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
array scores {3} painbase pain3mo pain6mo;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
do i = 1 to 3;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
visitnum = i - 1;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"visit = put(visitnum,visit_labs_month.);",SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
if scores{i} ne . then,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
do;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"xporres = left(put(scores{i},pain.));",SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xpstresc = xporres;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xpstresn = scores{i};,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"xpdtc = put(dates{i},yymmdd10.);",SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
output;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
end;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
end;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data=xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
by usubjid;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
merge xp(in=inxp) target.dm(keep=usubjid rfstdtc);,SAS Files\sdtm_xp.sas,,,,,,,"xp(in=inxp), target.dm(keep=usubjid, rfstdtc)",,,,,No,
by usubjid;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
if inxp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"%make_sdtm_dy(refdate=rfstdtc,date=xpdtc)",SAS Files\sdtm_xp.sas,,,,,,make_sdtm_dy,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
proc sort,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data=xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
by studyid usubjid xptestcd visitnum;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
retain studyid domain usubjid xpseq xptestcd xptest xporres visitnum visit xpdtc xpdy;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
set xp(drop=xpseq);,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
by studyid usubjid xptestcd visitnum;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
if not (first.visitnum and last.visitnum) then,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"put ""warn"" ""ing: key variables do not define an unique record. "" usubjid=;",SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
retain xpseq;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
if first.usubjid then,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xpseq = 1;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
else,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
xpseq = xpseq + 1;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"label xpseq = ""sequence number"";",SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"%make_sort_order(metadatafile=/folders/myfolders/test1/sdtm_metadata.xlsx,dataset=xp);",SAS Files\sdtm_xp.sas,,,,,,make_sort_order,,,,,,No,
proc sort,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
data=xp(keep = &xpkeepstring),SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
out=target.xp;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
by &xpsortstring;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
run;,SAS Files\sdtm_xp.sas,,,,,,,,,,,,No,
"libname sdtm    ""/folders/myfolders/target1"";",SAS Files\setup.sas,,,,sdtm,,,,,/folders/myfolders/target1,,,No,
"libname adam    ""/folders/myfolders/test2"";",SAS Files\setup.sas,,,,adam,,,,,/folders/myfolders/test2,,,No,
proc format;,SAS Files\setup.sas,,,,,,,,,,,,No,
value _0n1y 0 = 'n',SAS Files\setup.sas,,,,,,,,,,,,No,
1 = 'y',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value avisitn 1 = '3',SAS Files\setup.sas,,,,,,,,,,,,No,
2 = '6',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value popfl 0 - high = 'y',SAS Files\setup.sas,,,,,,,,,,,,No,
other = 'n',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value $trt01pn  'analgezia hcl 30 mg' = '1',SAS Files\setup.sas,,,,,,,,,,,,No,
'placebo'             = '0',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
"value agegr1n 0 - 54 = ""1""",SAS Files\setup.sas,,,,,,,,,,,,No,
"55-high= ""2""",SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
"value agegr1_ 1 = ""<55 years""",SAS Files\setup.sas,,,,,,,,,,,,No,
"2 = "">=55 years""",SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value $aereln  'not related'        = '0',SAS Files\setup.sas,,,,,,,,,,,,No,
'possibly related'   = '1',SAS Files\setup.sas,,,,,,,,,,,,No,
'probably related'   = '2',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value $aesevn  'mild'               = '1',SAS Files\setup.sas,,,,,,,,,,,,No,
'moderate'           = '2',SAS Files\setup.sas,,,,,,,,,,,,No,
'severe'             = '3',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value relgr1n 0 = 'not related',SAS Files\setup.sas,,,,,,,,,,,,No,
1 = 'related',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
value evntdesc 0 = 'pain relief',SAS Files\setup.sas,,,,,,,,,,,,No,
1 = 'pain worsening prior to relief',SAS Files\setup.sas,,,,,,,,,,,,No,
2 = 'pain adverse event prior to relief',SAS Files\setup.sas,,,,,,,,,,,,No,
3 = 'completed study prior to relief',SAS Files\setup.sas,,,,,,,,,,,,No,
;,SAS Files\setup.sas,,,,,,,,,,,,No,
run;,SAS Files\setup.sas,,,,,,,,,,,,No,
